(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ac={exports:{}},vi={},lc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),qh=Symbol.for("react.fragment"),Kh=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),Jh=Symbol.for("react.provider"),Qh=Symbol.for("react.context"),Yh=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Zh=Symbol.for("react.memo"),ef=Symbol.for("react.lazy"),bl=Symbol.iterator;function tf(t){return t===null||typeof t!="object"?null:(t=bl&&t[bl]||t["@@iterator"],typeof t=="function"?t:null)}var uc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cc=Object.assign,dc={};function Xr(t,e,r){this.props=t,this.context=e,this.refs=dc,this.updater=r||uc}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hc(){}hc.prototype=Xr.prototype;function xa(t,e,r){this.props=t,this.context=e,this.refs=dc,this.updater=r||uc}var ba=xa.prototype=new hc;ba.constructor=xa;cc(ba,Xr.prototype);ba.isPureReactComponent=!0;var Tl=Array.isArray,fc=Object.prototype.hasOwnProperty,Ta={current:null},pc={key:!0,ref:!0,__self:!0,__source:!0};function gc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)fc.call(e,n)&&!pc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Xn,type:t,key:i,ref:o,props:s,_owner:Ta.current}}function rf(t,e){return{$$typeof:Xn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ca(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xn}function nf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Cl=/\/+/g;function zi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nf(""+t.key):e.toString(36)}function Ps(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xn:case Hh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+zi(o,0):n,Tl(s)?(r="",t!=null&&(r=t.replace(Cl,"$&/")+"/"),Ps(s,e,r,"",function(u){return u})):s!=null&&(Ca(s)&&(s=rf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Cl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Tl(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+zi(i,a);o+=Ps(i,e,r,l,s)}else if(l=tf(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+zi(i,a++),o+=Ps(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function os(t,e,r){if(t==null)return t;var n=[],s=0;return Ps(t,n,"","",function(i){return e.call(r,i,s++)}),n}function sf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Ns={transition:null},of={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Ns,ReactCurrentOwner:Ta};function mc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:os,forEach:function(t,e,r){os(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return os(t,function(){e++}),e},toArray:function(t){return os(t,function(e){return e})||[]},only:function(t){if(!Ca(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=Xr;W.Fragment=qh;W.Profiler=Gh;W.PureComponent=xa;W.StrictMode=Kh;W.Suspense=Xh;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=of;W.act=mc;W.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ta.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fc.call(e,l)&&!pc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Xn,type:t.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(t){return t={$$typeof:Qh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Jh,_context:t},t.Consumer=t};W.createElement=gc;W.createFactory=function(t){var e=gc.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:Yh,render:t}};W.isValidElement=Ca;W.lazy=function(t){return{$$typeof:ef,_payload:{_status:-1,_result:t},_init:sf}};W.memo=function(t,e){return{$$typeof:Zh,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Ns.transition;Ns.transition={};try{t()}finally{Ns.transition=e}};W.unstable_act=mc;W.useCallback=function(t,e){return Ce.current.useCallback(t,e)};W.useContext=function(t){return Ce.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};W.useEffect=function(t,e){return Ce.current.useEffect(t,e)};W.useId=function(){return Ce.current.useId()};W.useImperativeHandle=function(t,e,r){return Ce.current.useImperativeHandle(t,e,r)};W.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Ce.current.useMemo(t,e)};W.useReducer=function(t,e,r){return Ce.current.useReducer(t,e,r)};W.useRef=function(t){return Ce.current.useRef(t)};W.useState=function(t){return Ce.current.useState(t)};W.useSyncExternalStore=function(t,e,r){return Ce.current.useSyncExternalStore(t,e,r)};W.useTransition=function(){return Ce.current.useTransition()};W.version="18.3.1";lc.exports=W;var H=lc.exports;const af=Wh(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=H,uf=Symbol.for("react.element"),cf=Symbol.for("react.fragment"),df=Object.prototype.hasOwnProperty,hf=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ff={key:!0,ref:!0,__self:!0,__source:!0};function vc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)df.call(e,n)&&!ff.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:uf,type:t,key:i,ref:o,props:s,_owner:hf.current}}vi.Fragment=cf;vi.jsx=vc;vi.jsxs=vc;ac.exports=vi;var _=ac.exports,ko={},yc={exports:{}},ze={},wc={exports:{}},_c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,N){var A=O.length;O.push(N);e:for(;0<A;){var x=A-1>>>1,R=O[x];if(0<s(R,N))O[x]=N,O[A]=R,A=x;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var N=O[0],A=O.pop();if(A!==N){O[0]=A;e:for(var x=0,R=O.length,F=R>>>1;x<F;){var $=2*(x+1)-1,J=O[$],ee=$+1,K=O[ee];if(0>s(J,A))ee<R&&0>s(K,J)?(O[x]=K,O[ee]=A,x=ee):(O[x]=J,O[$]=A,x=$);else if(ee<R&&0>s(K,A))O[x]=K,O[ee]=A,x=ee;else break e}}return N}function s(O,N){var A=O.sortIndex-N.sortIndex;return A!==0?A:O.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,m=null,f=3,h=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=O)n(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=r(u)}}function w(O){if(y=!1,p(O),!v)if(r(l)!==null)v=!0,V(b);else{var N=r(u);N!==null&&B(w,N.startTime-O)}}function b(O,N){v=!1,y&&(y=!1,g(P),P=-1),h=!0;var A=f;try{for(p(N),m=r(l);m!==null&&(!(m.expirationTime>N)||O&&!ce());){var x=m.callback;if(typeof x=="function"){m.callback=null,f=m.priorityLevel;var R=x(m.expirationTime<=N);N=t.unstable_now(),typeof R=="function"?m.callback=R:m===r(l)&&n(l),p(N)}else n(l);m=r(l)}if(m!==null)var F=!0;else{var $=r(u);$!==null&&B(w,$.startTime-N),F=!1}return F}finally{m=null,f=A,h=!1}}var T=!1,j=null,P=-1,M=5,z=-1;function ce(){return!(t.unstable_now()-z<M)}function Fe(){if(j!==null){var O=t.unstable_now();z=O;var N=!0;try{N=j(!0,O)}finally{N?Je():(T=!1,j=null)}}else T=!1}var Je;if(typeof d=="function")Je=function(){d(Fe)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,k=E.port2;E.port1.onmessage=Fe,Je=function(){k.postMessage(null)}}else Je=function(){S(Fe,0)};function V(O){j=O,T||(T=!0,Je())}function B(O,N){P=S(function(){O(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,V(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var A=f;f=N;try{return O()}finally{f=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var A=f;f=O;try{return N()}finally{f=A}},t.unstable_scheduleCallback=function(O,N,A){var x=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?x+A:x):A=x,O){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=A+R,O={id:c++,callback:N,priorityLevel:O,startTime:A,expirationTime:R,sortIndex:-1},A>x?(O.sortIndex=A,e(u,O),r(l)===null&&O===r(u)&&(y?(g(P),P=-1):y=!0,B(w,A-x))):(O.sortIndex=R,e(l,O),v||h||(v=!0,V(b))),O},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(O){var N=f;return function(){var A=f;f=N;try{return O.apply(this,arguments)}finally{f=A}}}})(_c);wc.exports=_c;var pf=wc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=H,Me=pf;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kc=new Set,On={};function dr(t,e){Hr(t,e),Hr(t+"Capture",e)}function Hr(t,e){for(On[t]=e,t=0;t<e.length;t++)kc.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),So=Object.prototype.hasOwnProperty,mf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ol={},Rl={};function vf(t){return So.call(Rl,t)?!0:So.call(Ol,t)?!1:mf.test(t)?Rl[t]=!0:(Ol[t]=!0,!1)}function yf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wf(t,e,r,n){if(e===null||typeof e>"u"||yf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oe(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_e[t]=new Oe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_e[e]=new Oe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_e[t]=new Oe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_e[t]=new Oe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_e[t]=new Oe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_e[t]=new Oe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_e[t]=new Oe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_e[t]=new Oe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_e[t]=new Oe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Oa=/[\-:]([a-z])/g;function Ra(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Oa,Ra);_e[e]=new Oe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Oa,Ra);_e[e]=new Oe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Oa,Ra);_e[e]=new Oe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_e[t]=new Oe(t,1,!1,t.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_e[t]=new Oe(t,1,!1,t.toLowerCase(),null,!0,!0)});function ja(t,e,r,n){var s=_e.hasOwnProperty(e)?_e[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wf(e,r,s,n)&&(r=null),n||s===null?vf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var kt=gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),xr=Symbol.for("react.portal"),br=Symbol.for("react.fragment"),Pa=Symbol.for("react.strict_mode"),Eo=Symbol.for("react.profiler"),Sc=Symbol.for("react.provider"),Ec=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),xo=Symbol.for("react.suspense"),bo=Symbol.for("react.suspense_list"),Aa=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),xc=Symbol.for("react.offscreen"),jl=Symbol.iterator;function rn(t){return t===null||typeof t!="object"?null:(t=jl&&t[jl]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,Bi;function hn(t){if(Bi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Bi=e&&e[1]||""}return`
`+Bi+t}var Fi=!1;function Wi(t,e){if(!t||Fi)return"";Fi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hn(t):""}function _f(t){switch(t.tag){case 5:return hn(t.type);case 16:return hn("Lazy");case 13:return hn("Suspense");case 19:return hn("SuspenseList");case 0:case 2:case 15:return t=Wi(t.type,!1),t;case 11:return t=Wi(t.type.render,!1),t;case 1:return t=Wi(t.type,!0),t;default:return""}}function To(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case br:return"Fragment";case xr:return"Portal";case Eo:return"Profiler";case Pa:return"StrictMode";case xo:return"Suspense";case bo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ec:return(t.displayName||"Context")+".Consumer";case Sc:return(t._context.displayName||"Context")+".Provider";case Na:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Aa:return e=t.displayName||null,e!==null?e:To(t.type)||"Memo";case xt:e=t._payload,t=t._init;try{return To(t(e))}catch{}}return null}function kf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return To(e);case 8:return e===Pa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sf(t){var e=bc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ls(t){t._valueTracker||(t._valueTracker=Sf(t))}function Tc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Co(t,e){var r=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Pl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=zt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cc(t,e){e=e.checked,e!=null&&ja(t,"checked",e,!1)}function Oo(t,e){Cc(t,e);var r=zt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ro(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ro(t,e.type,zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ro(t,e,r){(e!=="number"||Ws(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fn=Array.isArray;function Dr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+zt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function jo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Al(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(C(92));if(fn(r)){if(1<r.length)throw Error(C(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zt(r)}}function Oc(t,e){var r=zt(e.value),n=zt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Il(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var us,jc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=us.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ef=["Webkit","ms","Moz","O"];Object.keys(vn).forEach(function(t){Ef.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vn[e]=vn[t]})});function Pc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||vn.hasOwnProperty(t)&&vn[t]?(""+e).trim():e+"px"}function Nc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Pc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var xf=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function No(t,e){if(e){if(xf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Ao(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function Ia(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lo=null,Ur=null,Mr=null;function Ll(t){if(t=ts(t)){if(typeof Lo!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Si(e),Lo(t.stateNode,t.type,e))}}function Ac(t){Ur?Mr?Mr.push(t):Mr=[t]:Ur=t}function Ic(){if(Ur){var t=Ur,e=Mr;if(Mr=Ur=null,Ll(t),e)for(t=0;t<e.length;t++)Ll(e[t])}}function Lc(t,e){return t(e)}function $c(){}var Vi=!1;function Dc(t,e,r){if(Vi)return t(e,r);Vi=!0;try{return Lc(t,e,r)}finally{Vi=!1,(Ur!==null||Mr!==null)&&($c(),Ic())}}function jn(t,e){var r=t.stateNode;if(r===null)return null;var n=Si(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(C(231,e,typeof r));return r}var $o=!1;if(vt)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){$o=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{$o=!1}function bf(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var yn=!1,Vs=null,Hs=!1,Do=null,Tf={onError:function(t){yn=!0,Vs=t}};function Cf(t,e,r,n,s,i,o,a,l){yn=!1,Vs=null,bf.apply(Tf,arguments)}function Of(t,e,r,n,s,i,o,a,l){if(Cf.apply(this,arguments),yn){if(yn){var u=Vs;yn=!1,Vs=null}else throw Error(C(198));Hs||(Hs=!0,Do=u)}}function hr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Uc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $l(t){if(hr(t)!==t)throw Error(C(188))}function Rf(t){var e=t.alternate;if(!e){if(e=hr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return $l(s),t;if(i===n)return $l(s),e;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?t:e}function Mc(t){return t=Rf(t),t!==null?zc(t):null}function zc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zc(t);if(e!==null)return e;t=t.sibling}return null}var Bc=Me.unstable_scheduleCallback,Dl=Me.unstable_cancelCallback,jf=Me.unstable_shouldYield,Pf=Me.unstable_requestPaint,ae=Me.unstable_now,Nf=Me.unstable_getCurrentPriorityLevel,La=Me.unstable_ImmediatePriority,Fc=Me.unstable_UserBlockingPriority,qs=Me.unstable_NormalPriority,Af=Me.unstable_LowPriority,Wc=Me.unstable_IdlePriority,yi=null,ut=null;function If(t){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:Df,Lf=Math.log,$f=Math.LN2;function Df(t){return t>>>=0,t===0?32:31-(Lf(t)/$f|0)|0}var cs=64,ds=4194304;function pn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ks(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=pn(a):(i&=o,i!==0&&(n=pn(i)))}else o=r&~s,o!==0?n=pn(o):i!==0&&(n=pn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-nt(e),s=1<<r,n|=t[r],e&=~s;return n}function Uf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-nt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Uf(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Uo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vc(){var t=cs;return cs<<=1,!(cs&4194240)&&(cs=64),t}function Hi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nt(e),t[e]=r}function zf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-nt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function $a(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-nt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var G=0;function Hc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qc,Da,Kc,Gc,Jc,Mo=!1,hs=[],Nt=null,At=null,It=null,Pn=new Map,Nn=new Map,Ct=[],Bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(t,e){switch(t){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(e.pointerId)}}function sn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ts(e),e!==null&&Da(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ff(t,e,r,n,s){switch(e){case"focusin":return Nt=sn(Nt,t,e,r,n,s),!0;case"dragenter":return At=sn(At,t,e,r,n,s),!0;case"mouseover":return It=sn(It,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Pn.set(i,sn(Pn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Nn.set(i,sn(Nn.get(i)||null,t,e,r,n,s)),!0}return!1}function Qc(t){var e=Zt(t.target);if(e!==null){var r=hr(e);if(r!==null){if(e=r.tag,e===13){if(e=Uc(r),e!==null){t.blockedOn=e,Jc(t.priority,function(){Kc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function As(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=zo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Io=n,r.target.dispatchEvent(n),Io=null}else return e=ts(r),e!==null&&Da(e),t.blockedOn=r,!1;e.shift()}return!0}function Ml(t,e,r){As(t)&&r.delete(e)}function Wf(){Mo=!1,Nt!==null&&As(Nt)&&(Nt=null),At!==null&&As(At)&&(At=null),It!==null&&As(It)&&(It=null),Pn.forEach(Ml),Nn.forEach(Ml)}function on(t,e){t.blockedOn===e&&(t.blockedOn=null,Mo||(Mo=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Wf)))}function An(t){function e(s){return on(s,t)}if(0<hs.length){on(hs[0],t);for(var r=1;r<hs.length;r++){var n=hs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nt!==null&&on(Nt,t),At!==null&&on(At,t),It!==null&&on(It,t),Pn.forEach(e),Nn.forEach(e),r=0;r<Ct.length;r++)n=Ct[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)Qc(r),r.blockedOn===null&&Ct.shift()}var zr=kt.ReactCurrentBatchConfig,Gs=!0;function Vf(t,e,r,n){var s=G,i=zr.transition;zr.transition=null;try{G=1,Ua(t,e,r,n)}finally{G=s,zr.transition=i}}function Hf(t,e,r,n){var s=G,i=zr.transition;zr.transition=null;try{G=4,Ua(t,e,r,n)}finally{G=s,zr.transition=i}}function Ua(t,e,r,n){if(Gs){var s=zo(t,e,r,n);if(s===null)to(t,e,n,Js,r),Ul(t,n);else if(Ff(s,t,e,r,n))n.stopPropagation();else if(Ul(t,n),e&4&&-1<Bf.indexOf(t)){for(;s!==null;){var i=ts(s);if(i!==null&&qc(i),i=zo(t,e,r,n),i===null&&to(t,e,n,Js,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else to(t,e,n,null,r)}}var Js=null;function zo(t,e,r,n){if(Js=null,t=Ia(n),t=Zt(t),t!==null)if(e=hr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Uc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Js=t,null}function Yc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nf()){case La:return 1;case Fc:return 4;case qs:case Af:return 16;case Wc:return 536870912;default:return 16}default:return 16}}var jt=null,Ma=null,Is=null;function Xc(){if(Is)return Is;var t,e=Ma,r=e.length,n,s="value"in jt?jt.value:jt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Is=s.slice(t,1<n?1-n:void 0)}function Ls(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fs(){return!0}function zl(){return!1}function Be(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fs:zl,this.isPropagationStopped=zl,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),e}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Be(Zr),es=se({},Zr,{view:0,detail:0}),qf=Be(es),qi,Ki,an,wi=se({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==an&&(an&&t.type==="mousemove"?(qi=t.screenX-an.screenX,Ki=t.screenY-an.screenY):Ki=qi=0,an=t),qi)},movementY:function(t){return"movementY"in t?t.movementY:Ki}}),Bl=Be(wi),Kf=se({},wi,{dataTransfer:0}),Gf=Be(Kf),Jf=se({},es,{relatedTarget:0}),Gi=Be(Jf),Qf=se({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yf=Be(Qf),Xf=se({},Zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zf=Be(Xf),ep=se({},Zr,{data:0}),Fl=Be(ep),tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=np[t])?!!e[t]:!1}function Ba(){return sp}var ip=se({},es,{key:function(t){if(t.key){var e=tp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),op=Be(ip),ap=se({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=Be(ap),lp=se({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),up=Be(lp),cp=se({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=Be(cp),hp=se({},wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fp=Be(hp),pp=[9,13,27,32],Fa=vt&&"CompositionEvent"in window,wn=null;vt&&"documentMode"in document&&(wn=document.documentMode);var gp=vt&&"TextEvent"in window&&!wn,Zc=vt&&(!Fa||wn&&8<wn&&11>=wn),Vl=" ",Hl=!1;function ed(t,e){switch(t){case"keyup":return pp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function mp(t,e){switch(t){case"compositionend":return td(e);case"keypress":return e.which!==32?null:(Hl=!0,Vl);case"textInput":return t=e.data,t===Vl&&Hl?null:t;default:return null}}function vp(t,e){if(Tr)return t==="compositionend"||!Fa&&ed(t,e)?(t=Xc(),Is=Ma=jt=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zc&&e.locale!=="ko"?null:e.data;default:return null}}var yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ql(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yp[t.type]:e==="textarea"}function rd(t,e,r,n){Ac(n),e=Qs(e,"onChange"),0<e.length&&(r=new za("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var _n=null,In=null;function wp(t){fd(t,0)}function _i(t){var e=Rr(t);if(Tc(e))return t}function _p(t,e){if(t==="change")return e}var nd=!1;if(vt){var Ji;if(vt){var Qi="oninput"in document;if(!Qi){var Kl=document.createElement("div");Kl.setAttribute("oninput","return;"),Qi=typeof Kl.oninput=="function"}Ji=Qi}else Ji=!1;nd=Ji&&(!document.documentMode||9<document.documentMode)}function Gl(){_n&&(_n.detachEvent("onpropertychange",sd),In=_n=null)}function sd(t){if(t.propertyName==="value"&&_i(In)){var e=[];rd(e,In,t,Ia(t)),Dc(wp,e)}}function kp(t,e,r){t==="focusin"?(Gl(),_n=e,In=r,_n.attachEvent("onpropertychange",sd)):t==="focusout"&&Gl()}function Sp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _i(In)}function Ep(t,e){if(t==="click")return _i(e)}function xp(t,e){if(t==="input"||t==="change")return _i(e)}function bp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:bp;function Ln(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!So.call(e,s)||!it(t[s],e[s]))return!1}return!0}function Jl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ql(t,e){var r=Jl(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jl(r)}}function id(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?id(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function od(){for(var t=window,e=Ws();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ws(t.document)}return e}function Wa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tp(t){var e=od(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&id(r.ownerDocument.documentElement,r)){if(n!==null&&Wa(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Ql(r,i);var o=Ql(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cp=vt&&"documentMode"in document&&11>=document.documentMode,Cr=null,Bo=null,kn=null,Fo=!1;function Yl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fo||Cr==null||Cr!==Ws(n)||(n=Cr,"selectionStart"in n&&Wa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kn&&Ln(kn,n)||(kn=n,n=Qs(Bo,"onSelect"),0<n.length&&(e=new za("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Cr)))}function ps(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Or={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},Yi={},ad={};vt&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function ki(t){if(Yi[t])return Yi[t];if(!Or[t])return t;var e=Or[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ad)return Yi[t]=e[r];return t}var ld=ki("animationend"),ud=ki("animationiteration"),cd=ki("animationstart"),dd=ki("transitionend"),hd=new Map,Xl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(t,e){hd.set(t,e),dr(e,[t])}for(var Xi=0;Xi<Xl.length;Xi++){var Zi=Xl[Xi],Op=Zi.toLowerCase(),Rp=Zi[0].toUpperCase()+Zi.slice(1);Ft(Op,"on"+Rp)}Ft(ld,"onAnimationEnd");Ft(ud,"onAnimationIteration");Ft(cd,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(dd,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(gn));function Zl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Of(n,e,void 0,t),t.currentTarget=null}function fd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Zl(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Zl(s,a,u),i=l}}}if(Hs)throw t=Do,Hs=!1,Do=null,t}function X(t,e){var r=e[Ko];r===void 0&&(r=e[Ko]=new Set);var n=t+"__bubble";r.has(n)||(pd(e,t,2,!1),r.add(n))}function eo(t,e,r){var n=0;e&&(n|=4),pd(r,t,n,e)}var gs="_reactListening"+Math.random().toString(36).slice(2);function $n(t){if(!t[gs]){t[gs]=!0,kc.forEach(function(r){r!=="selectionchange"&&(jp.has(r)||eo(r,!1,t),eo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gs]||(e[gs]=!0,eo("selectionchange",!1,e))}}function pd(t,e,r,n){switch(Yc(e)){case 1:var s=Vf;break;case 4:s=Hf;break;default:s=Ua}r=s.bind(null,e,r,t),s=void 0,!$o||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function to(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zt(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Dc(function(){var u=i,c=Ia(r),m=[];e:{var f=hd.get(t);if(f!==void 0){var h=za,v=t;switch(t){case"keypress":if(Ls(r)===0)break e;case"keydown":case"keyup":h=op;break;case"focusin":v="focus",h=Gi;break;case"focusout":v="blur",h=Gi;break;case"beforeblur":case"afterblur":h=Gi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=up;break;case ld:case ud:case cd:h=Yf;break;case dd:h=dp;break;case"scroll":h=qf;break;case"wheel":h=fp;break;case"copy":case"cut":case"paste":h=Zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Wl}var y=(e&4)!==0,S=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var d=u,p;d!==null;){p=d;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=jn(d,g),w!=null&&y.push(Dn(d,w,p)))),S)break;d=d.return}0<y.length&&(f=new h(f,v,null,r,c),m.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&r!==Io&&(v=r.relatedTarget||r.fromElement)&&(Zt(v)||v[yt]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?Zt(v):null,v!==null&&(S=hr(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=Bl,w="onMouseLeave",g="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(y=Wl,w="onPointerLeave",g="onPointerEnter",d="pointer"),S=h==null?f:Rr(h),p=v==null?f:Rr(v),f=new y(w,d+"leave",h,r,c),f.target=S,f.relatedTarget=p,w=null,Zt(c)===u&&(y=new y(g,d+"enter",v,r,c),y.target=p,y.relatedTarget=S,w=y),S=w,h&&v)t:{for(y=h,g=v,d=0,p=y;p;p=pr(p))d++;for(p=0,w=g;w;w=pr(w))p++;for(;0<d-p;)y=pr(y),d--;for(;0<p-d;)g=pr(g),p--;for(;d--;){if(y===g||g!==null&&y===g.alternate)break t;y=pr(y),g=pr(g)}y=null}else y=null;h!==null&&eu(m,f,h,y,!1),v!==null&&S!==null&&eu(m,S,v,y,!0)}}e:{if(f=u?Rr(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var b=_p;else if(ql(f))if(nd)b=xp;else{b=Sp;var T=kp}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Ep);if(b&&(b=b(t,u))){rd(m,b,r,c);break e}T&&T(t,f,u),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Ro(f,"number",f.value)}switch(T=u?Rr(u):window,t){case"focusin":(ql(T)||T.contentEditable==="true")&&(Cr=T,Bo=u,kn=null);break;case"focusout":kn=Bo=Cr=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Yl(m,r,c);break;case"selectionchange":if(Cp)break;case"keydown":case"keyup":Yl(m,r,c)}var j;if(Fa)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Tr?ed(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Zc&&r.locale!=="ko"&&(Tr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Tr&&(j=Xc()):(jt=c,Ma="value"in jt?jt.value:jt.textContent,Tr=!0)),T=Qs(u,P),0<T.length&&(P=new Fl(P,t,null,r,c),m.push({event:P,listeners:T}),j?P.data=j:(j=td(r),j!==null&&(P.data=j)))),(j=gp?mp(t,r):vp(t,r))&&(u=Qs(u,"onBeforeInput"),0<u.length&&(c=new Fl("onBeforeInput","beforeinput",null,r,c),m.push({event:c,listeners:u}),c.data=j))}fd(m,e)})}function Dn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Qs(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jn(t,r),i!=null&&n.unshift(Dn(t,i,s)),i=jn(t,e),i!=null&&n.push(Dn(t,i,s))),t=t.return}return n}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=jn(r,i),l!=null&&o.unshift(Dn(r,l,a))):s||(l=jn(r,i),l!=null&&o.push(Dn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Pp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function tu(t){return(typeof t=="string"?t:""+t).replace(Pp,`
`).replace(Np,"")}function ms(t,e,r){if(e=tu(e),tu(t)!==e&&r)throw Error(C(425))}function Ys(){}var Wo=null,Vo=null;function Ho(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(t){return ru.resolve(null).then(t).catch(Lp)}:qo;function Lp(t){setTimeout(function(){throw t})}function ro(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),An(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);An(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var en=Math.random().toString(36).slice(2),lt="__reactFiber$"+en,Un="__reactProps$"+en,yt="__reactContainer$"+en,Ko="__reactEvents$"+en,$p="__reactListeners$"+en,Dp="__reactHandles$"+en;function Zt(t){var e=t[lt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yt]||r[lt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nu(t);t!==null;){if(r=t[lt])return r;t=nu(t)}return e}t=r,r=t.parentNode}return null}function ts(t){return t=t[lt]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Si(t){return t[Un]||null}var Go=[],jr=-1;function Wt(t){return{current:t}}function Z(t){0>jr||(t.current=Go[jr],Go[jr]=null,jr--)}function Y(t,e){jr++,Go[jr]=t.current,t.current=e}var Bt={},xe=Wt(Bt),Pe=Wt(!1),or=Bt;function qr(t,e){var r=t.type.contextTypes;if(!r)return Bt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(t){return t=t.childContextTypes,t!=null}function Xs(){Z(Pe),Z(xe)}function su(t,e,r){if(xe.current!==Bt)throw Error(C(168));Y(xe,e),Y(Pe,r)}function gd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(C(108,kf(t)||"Unknown",s));return se({},r,n)}function Zs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,or=xe.current,Y(xe,t),Y(Pe,Pe.current),!0}function iu(t,e,r){var n=t.stateNode;if(!n)throw Error(C(169));r?(t=gd(t,e,or),n.__reactInternalMemoizedMergedChildContext=t,Z(Pe),Z(xe),Y(xe,t)):Z(Pe),Y(Pe,r)}var ft=null,Ei=!1,no=!1;function md(t){ft===null?ft=[t]:ft.push(t)}function Up(t){Ei=!0,md(t)}function Vt(){if(!no&&ft!==null){no=!0;var t=0,e=G;try{var r=ft;for(G=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ft=null,Ei=!1}catch(s){throw ft!==null&&(ft=ft.slice(t+1)),Bc(La,Vt),s}finally{G=e,no=!1}}return null}var Pr=[],Nr=0,ei=null,ti=0,We=[],Ve=0,ar=null,pt=1,gt="";function Gt(t,e){Pr[Nr++]=ti,Pr[Nr++]=ei,ei=t,ti=e}function vd(t,e,r){We[Ve++]=pt,We[Ve++]=gt,We[Ve++]=ar,ar=t;var n=pt;t=gt;var s=32-nt(n)-1;n&=~(1<<s),r+=1;var i=32-nt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,pt=1<<32-nt(e)+s|r<<s|n,gt=i+t}else pt=1<<i|r<<s|n,gt=t}function Va(t){t.return!==null&&(Gt(t,1),vd(t,1,0))}function Ha(t){for(;t===ei;)ei=Pr[--Nr],Pr[Nr]=null,ti=Pr[--Nr],Pr[Nr]=null;for(;t===ar;)ar=We[--Ve],We[Ve]=null,gt=We[--Ve],We[Ve]=null,pt=We[--Ve],We[Ve]=null}var Ue=null,De=null,te=!1,rt=null;function yd(t,e){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ou(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ue=t,De=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ue=t,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ar!==null?{id:pt,overflow:gt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ue=t,De=null,!0):!1;default:return!1}}function Jo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qo(t){if(te){var e=De;if(e){var r=e;if(!ou(t,e)){if(Jo(t))throw Error(C(418));e=Lt(r.nextSibling);var n=Ue;e&&ou(t,e)?yd(n,r):(t.flags=t.flags&-4097|2,te=!1,Ue=t)}}else{if(Jo(t))throw Error(C(418));t.flags=t.flags&-4097|2,te=!1,Ue=t}}}function au(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ue=t}function vs(t){if(t!==Ue)return!1;if(!te)return au(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ho(t.type,t.memoizedProps)),e&&(e=De)){if(Jo(t))throw wd(),Error(C(418));for(;e;)yd(t,e),e=Lt(e.nextSibling)}if(au(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){De=Lt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}De=null}}else De=Ue?Lt(t.stateNode.nextSibling):null;return!0}function wd(){for(var t=De;t;)t=Lt(t.nextSibling)}function Kr(){De=Ue=null,te=!1}function qa(t){rt===null?rt=[t]:rt.push(t)}var Mp=kt.ReactCurrentBatchConfig;function ln(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,t))}return t}function ys(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lu(t){var e=t._init;return e(t._payload)}function _d(t){function e(g,d){if(t){var p=g.deletions;p===null?(g.deletions=[d],g.flags|=16):p.push(d)}}function r(g,d){if(!t)return null;for(;d!==null;)e(g,d),d=d.sibling;return null}function n(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=Mt(g,d),g.index=0,g.sibling=null,g}function i(g,d,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<d?(g.flags|=2,d):p):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,d,p,w){return d===null||d.tag!==6?(d=co(p,g.mode,w),d.return=g,d):(d=s(d,p),d.return=g,d)}function l(g,d,p,w){var b=p.type;return b===br?c(g,d,p.props.children,w,p.key):d!==null&&(d.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===xt&&lu(b)===d.type)?(w=s(d,p.props),w.ref=ln(g,d,p),w.return=g,w):(w=Fs(p.type,p.key,p.props,null,g.mode,w),w.ref=ln(g,d,p),w.return=g,w)}function u(g,d,p,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=ho(p,g.mode,w),d.return=g,d):(d=s(d,p.children||[]),d.return=g,d)}function c(g,d,p,w,b){return d===null||d.tag!==7?(d=sr(p,g.mode,w,b),d.return=g,d):(d=s(d,p),d.return=g,d)}function m(g,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=co(""+d,g.mode,p),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case as:return p=Fs(d.type,d.key,d.props,null,g.mode,p),p.ref=ln(g,null,d),p.return=g,p;case xr:return d=ho(d,g.mode,p),d.return=g,d;case xt:var w=d._init;return m(g,w(d._payload),p)}if(fn(d)||rn(d))return d=sr(d,g.mode,p,null),d.return=g,d;ys(g,d)}return null}function f(g,d,p,w){var b=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:a(g,d,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case as:return p.key===b?l(g,d,p,w):null;case xr:return p.key===b?u(g,d,p,w):null;case xt:return b=p._init,f(g,d,b(p._payload),w)}if(fn(p)||rn(p))return b!==null?null:c(g,d,p,w,null);ys(g,p)}return null}function h(g,d,p,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,a(d,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case as:return g=g.get(w.key===null?p:w.key)||null,l(d,g,w,b);case xr:return g=g.get(w.key===null?p:w.key)||null,u(d,g,w,b);case xt:var T=w._init;return h(g,d,p,T(w._payload),b)}if(fn(w)||rn(w))return g=g.get(p)||null,c(d,g,w,b,null);ys(d,w)}return null}function v(g,d,p,w){for(var b=null,T=null,j=d,P=d=0,M=null;j!==null&&P<p.length;P++){j.index>P?(M=j,j=null):M=j.sibling;var z=f(g,j,p[P],w);if(z===null){j===null&&(j=M);break}t&&j&&z.alternate===null&&e(g,j),d=i(z,d,P),T===null?b=z:T.sibling=z,T=z,j=M}if(P===p.length)return r(g,j),te&&Gt(g,P),b;if(j===null){for(;P<p.length;P++)j=m(g,p[P],w),j!==null&&(d=i(j,d,P),T===null?b=j:T.sibling=j,T=j);return te&&Gt(g,P),b}for(j=n(g,j);P<p.length;P++)M=h(j,g,P,p[P],w),M!==null&&(t&&M.alternate!==null&&j.delete(M.key===null?P:M.key),d=i(M,d,P),T===null?b=M:T.sibling=M,T=M);return t&&j.forEach(function(ce){return e(g,ce)}),te&&Gt(g,P),b}function y(g,d,p,w){var b=rn(p);if(typeof b!="function")throw Error(C(150));if(p=b.call(p),p==null)throw Error(C(151));for(var T=b=null,j=d,P=d=0,M=null,z=p.next();j!==null&&!z.done;P++,z=p.next()){j.index>P?(M=j,j=null):M=j.sibling;var ce=f(g,j,z.value,w);if(ce===null){j===null&&(j=M);break}t&&j&&ce.alternate===null&&e(g,j),d=i(ce,d,P),T===null?b=ce:T.sibling=ce,T=ce,j=M}if(z.done)return r(g,j),te&&Gt(g,P),b;if(j===null){for(;!z.done;P++,z=p.next())z=m(g,z.value,w),z!==null&&(d=i(z,d,P),T===null?b=z:T.sibling=z,T=z);return te&&Gt(g,P),b}for(j=n(g,j);!z.done;P++,z=p.next())z=h(j,g,P,z.value,w),z!==null&&(t&&z.alternate!==null&&j.delete(z.key===null?P:z.key),d=i(z,d,P),T===null?b=z:T.sibling=z,T=z);return t&&j.forEach(function(Fe){return e(g,Fe)}),te&&Gt(g,P),b}function S(g,d,p,w){if(typeof p=="object"&&p!==null&&p.type===br&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case as:e:{for(var b=p.key,T=d;T!==null;){if(T.key===b){if(b=p.type,b===br){if(T.tag===7){r(g,T.sibling),d=s(T,p.props.children),d.return=g,g=d;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===xt&&lu(b)===T.type){r(g,T.sibling),d=s(T,p.props),d.ref=ln(g,T,p),d.return=g,g=d;break e}r(g,T);break}else e(g,T);T=T.sibling}p.type===br?(d=sr(p.props.children,g.mode,w,p.key),d.return=g,g=d):(w=Fs(p.type,p.key,p.props,null,g.mode,w),w.ref=ln(g,d,p),w.return=g,g=w)}return o(g);case xr:e:{for(T=p.key;d!==null;){if(d.key===T)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){r(g,d.sibling),d=s(d,p.children||[]),d.return=g,g=d;break e}else{r(g,d);break}else e(g,d);d=d.sibling}d=ho(p,g.mode,w),d.return=g,g=d}return o(g);case xt:return T=p._init,S(g,d,T(p._payload),w)}if(fn(p))return v(g,d,p,w);if(rn(p))return y(g,d,p,w);ys(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(r(g,d.sibling),d=s(d,p),d.return=g,g=d):(r(g,d),d=co(p,g.mode,w),d.return=g,g=d),o(g)):r(g,d)}return S}var Gr=_d(!0),kd=_d(!1),ri=Wt(null),ni=null,Ar=null,Ka=null;function Ga(){Ka=Ar=ni=null}function Ja(t){var e=ri.current;Z(ri),t._currentValue=e}function Yo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Br(t,e){ni=t,Ka=Ar=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function Ke(t){var e=t._currentValue;if(Ka!==t)if(t={context:t,memoizedValue:e,next:null},Ar===null){if(ni===null)throw Error(C(308));Ar=t,ni.dependencies={lanes:0,firstContext:t}}else Ar=Ar.next=t;return e}var er=null;function Qa(t){er===null?er=[t]:er.push(t)}function Sd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Qa(e)):(r.next=s.next,s.next=r),e.interleaved=r,wt(t,n)}function wt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bt=!1;function Ya(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ed(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $t(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,wt(t,r)}return s=n.interleaved,s===null?(e.next=e,Qa(n)):(e.next=s.next,s.next=e),n.interleaved=e,wt(t,r)}function $s(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$a(t,r)}}function uu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function si(t,e,r,n){var s=t.updateQueue;bt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,h=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){m=v.call(h,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(h,m,f):v,f==null)break e;m=se({},m,f);break e;case 2:bt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=m):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=m),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ur|=o,t.lanes=o,t.memoizedState=m}}function cu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var rs={},ct=Wt(rs),Mn=Wt(rs),zn=Wt(rs);function tr(t){if(t===rs)throw Error(C(174));return t}function Xa(t,e){switch(Y(zn,e),Y(Mn,t),Y(ct,rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Po(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Po(e,t)}Z(ct),Y(ct,e)}function Jr(){Z(ct),Z(Mn),Z(zn)}function xd(t){tr(zn.current);var e=tr(ct.current),r=Po(e,t.type);e!==r&&(Y(Mn,t),Y(ct,r))}function Za(t){Mn.current===t&&(Z(ct),Z(Mn))}var re=Wt(0);function ii(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var so=[];function el(){for(var t=0;t<so.length;t++)so[t]._workInProgressVersionPrimary=null;so.length=0}var Ds=kt.ReactCurrentDispatcher,io=kt.ReactCurrentBatchConfig,lr=0,ne=null,he=null,pe=null,oi=!1,Sn=!1,Bn=0,zp=0;function ke(){throw Error(C(321))}function tl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!it(t[r],e[r]))return!1;return!0}function rl(t,e,r,n,s,i){if(lr=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ds.current=t===null||t.memoizedState===null?Vp:Hp,t=r(n,s),Sn){i=0;do{if(Sn=!1,Bn=0,25<=i)throw Error(C(301));i+=1,pe=he=null,e.updateQueue=null,Ds.current=qp,t=r(n,s)}while(Sn)}if(Ds.current=ai,e=he!==null&&he.next!==null,lr=0,pe=he=ne=null,oi=!1,e)throw Error(C(300));return t}function nl(){var t=Bn!==0;return Bn=0,t}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ne.memoizedState=pe=t:pe=pe.next=t,pe}function Ge(){if(he===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=pe===null?ne.memoizedState:pe.next;if(e!==null)pe=e,he=t;else{if(t===null)throw Error(C(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},pe===null?ne.memoizedState=pe=t:pe=pe.next=t}return pe}function Fn(t,e){return typeof e=="function"?e(t):e}function oo(t){var e=Ge(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=he,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((lr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=m,o=n):l=l.next=m,ne.lanes|=c,ur|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,it(n,e.memoizedState)||(je=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,ur|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ao(t){var e=Ge(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);it(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function bd(){}function Td(t,e){var r=ne,n=Ge(),s=e(),i=!it(n.memoizedState,s);if(i&&(n.memoizedState=s,je=!0),n=n.queue,sl(Rd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,Wn(9,Od.bind(null,r,n,s,e),void 0,null),ge===null)throw Error(C(349));lr&30||Cd(r,e,s)}return s}function Cd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Od(t,e,r,n){e.value=r,e.getSnapshot=n,jd(e)&&Pd(t)}function Rd(t,e,r){return r(function(){jd(e)&&Pd(t)})}function jd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!it(t,r)}catch{return!0}}function Pd(t){var e=wt(t,1);e!==null&&st(e,t,1,-1)}function du(t){var e=at();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},e.queue=t,t=t.dispatch=Wp.bind(null,ne,t),[e.memoizedState,t]}function Wn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Nd(){return Ge().memoizedState}function Us(t,e,r,n){var s=at();ne.flags|=t,s.memoizedState=Wn(1|e,r,void 0,n===void 0?null:n)}function xi(t,e,r,n){var s=Ge();n=n===void 0?null:n;var i=void 0;if(he!==null){var o=he.memoizedState;if(i=o.destroy,n!==null&&tl(n,o.deps)){s.memoizedState=Wn(e,r,i,n);return}}ne.flags|=t,s.memoizedState=Wn(1|e,r,i,n)}function hu(t,e){return Us(8390656,8,t,e)}function sl(t,e){return xi(2048,8,t,e)}function Ad(t,e){return xi(4,2,t,e)}function Id(t,e){return xi(4,4,t,e)}function Ld(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $d(t,e,r){return r=r!=null?r.concat([t]):null,xi(4,4,Ld.bind(null,e,t),r)}function il(){}function Dd(t,e){var r=Ge();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ud(t,e){var r=Ge();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Md(t,e,r){return lr&21?(it(r,e)||(r=Vc(),ne.lanes|=r,ur|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=r)}function Bp(t,e){var r=G;G=r!==0&&4>r?r:4,t(!0);var n=io.transition;io.transition={};try{t(!1),e()}finally{G=r,io.transition=n}}function zd(){return Ge().memoizedState}function Fp(t,e,r){var n=Ut(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Bd(t))Fd(e,r);else if(r=Sd(t,e,r,n),r!==null){var s=Te();st(r,t,n,s),Wd(r,e,n)}}function Wp(t,e,r){var n=Ut(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bd(t))Fd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,it(a,o)){var l=e.interleaved;l===null?(s.next=s,Qa(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Sd(t,e,s,n),r!==null&&(s=Te(),st(r,t,n,s),Wd(r,e,n))}}function Bd(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function Fd(t,e){Sn=oi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Wd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$a(t,r)}}var ai={readContext:Ke,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Vp={readContext:Ke,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:Ke,useEffect:hu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Us(4194308,4,Ld.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Us(4194308,4,t,e)},useInsertionEffect:function(t,e){return Us(4,2,t,e)},useMemo:function(t,e){var r=at();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=at();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Fp.bind(null,ne,t),[n.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:du,useDebugValue:il,useDeferredValue:function(t){return at().memoizedState=t},useTransition:function(){var t=du(!1),e=t[0];return t=Bp.bind(null,t[1]),at().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ne,s=at();if(te){if(r===void 0)throw Error(C(407));r=r()}else{if(r=e(),ge===null)throw Error(C(349));lr&30||Cd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hu(Rd.bind(null,n,i,t),[t]),n.flags|=2048,Wn(9,Od.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=at(),e=ge.identifierPrefix;if(te){var r=gt,n=pt;r=(n&~(1<<32-nt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=zp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hp={readContext:Ke,useCallback:Dd,useContext:Ke,useEffect:sl,useImperativeHandle:$d,useInsertionEffect:Ad,useLayoutEffect:Id,useMemo:Ud,useReducer:oo,useRef:Nd,useState:function(){return oo(Fn)},useDebugValue:il,useDeferredValue:function(t){var e=Ge();return Md(e,he.memoizedState,t)},useTransition:function(){var t=oo(Fn)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:bd,useSyncExternalStore:Td,useId:zd,unstable_isNewReconciler:!1},qp={readContext:Ke,useCallback:Dd,useContext:Ke,useEffect:sl,useImperativeHandle:$d,useInsertionEffect:Ad,useLayoutEffect:Id,useMemo:Ud,useReducer:ao,useRef:Nd,useState:function(){return ao(Fn)},useDebugValue:il,useDeferredValue:function(t){var e=Ge();return he===null?e.memoizedState=t:Md(e,he.memoizedState,t)},useTransition:function(){var t=ao(Fn)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:bd,useSyncExternalStore:Td,useId:zd,unstable_isNewReconciler:!1};function Xe(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Xo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:se({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bi={isMounted:function(t){return(t=t._reactInternals)?hr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Te(),s=Ut(t),i=mt(n,s);i.payload=e,r!=null&&(i.callback=r),e=$t(t,i,s),e!==null&&(st(e,t,s,n),$s(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Te(),s=Ut(t),i=mt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=$t(t,i,s),e!==null&&(st(e,t,s,n),$s(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Te(),n=Ut(t),s=mt(r,n);s.tag=2,e!=null&&(s.callback=e),e=$t(t,s,n),e!==null&&(st(e,t,n,r),$s(e,t,n))}};function fu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ln(r,n)||!Ln(s,i):!0}function Vd(t,e,r){var n=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Ne(e)?or:xe.current,n=e.contextTypes,i=(n=n!=null)?qr(t,s):Bt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bi.enqueueReplaceState(e,e.state,null)}function Zo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ya(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Ne(e)?or:xe.current,s.context=qr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bi.enqueueReplaceState(s,s.state,null),si(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qr(t,e){try{var r="",n=e;do r+=_f(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ea(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Kp=typeof WeakMap=="function"?WeakMap:Map;function Hd(t,e,r){r=mt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ui||(ui=!0,ca=n),ea(t,e)},r}function qd(t,e,r){r=mt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ea(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ea(t,e),typeof n!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function gu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Kp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=ag.bind(null,t,e,r),e.then(t,t))}function mu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=mt(-1,1),e.tag=2,$t(r,e,1))),r.lanes|=1),t)}var Gp=kt.ReactCurrentOwner,je=!1;function be(t,e,r,n){e.child=t===null?kd(e,null,r,n):Gr(e,t.child,r,n)}function yu(t,e,r,n,s){r=r.render;var i=e.ref;return Br(e,s),n=rl(t,e,r,n,i,s),r=nl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(te&&r&&Va(e),e.flags|=1,be(t,e,n,s),e.child)}function wu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!fl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Kd(t,e,i,n,s)):(t=Fs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ln,r(o,n)&&t.ref===e.ref)return _t(t,e,s)}return e.flags|=1,t=Mt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Kd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ln(i,n)&&t.ref===e.ref)if(je=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,_t(t,e,s)}return ta(t,e,r,n,s)}function Gd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Lr,Le),Le|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(Lr,Le),Le|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Y(Lr,Le),Le|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Y(Lr,Le),Le|=n;return be(t,e,s,r),e.child}function Jd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ta(t,e,r,n,s){var i=Ne(r)?or:xe.current;return i=qr(e,i),Br(e,s),r=rl(t,e,r,n,i,s),n=nl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(te&&n&&Va(e),e.flags|=1,be(t,e,r,s),e.child)}function _u(t,e,r,n,s){if(Ne(r)){var i=!0;Zs(e)}else i=!1;if(Br(e,s),e.stateNode===null)Ms(t,e),Vd(e,r,n),Zo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Ne(r)?or:xe.current,u=qr(e,u));var c=r.getDerivedStateFromProps,m=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&pu(e,o,n,u),bt=!1;var f=e.memoizedState;o.state=f,si(e,n,o,s),l=e.memoizedState,a!==n||f!==l||Pe.current||bt?(typeof c=="function"&&(Xo(e,r,c,n),l=e.memoizedState),(a=bt||fu(e,r,a,n,f,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ed(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xe(e.type,a),o.props=u,m=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ke(l):(l=Ne(r)?or:xe.current,l=qr(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||f!==l)&&pu(e,o,n,l),bt=!1,f=e.memoizedState,o.state=f,si(e,n,o,s);var v=e.memoizedState;a!==m||f!==v||Pe.current||bt?(typeof h=="function"&&(Xo(e,r,h,n),v=e.memoizedState),(u=bt||fu(e,r,u,n,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ra(t,e,r,n,i,s)}function ra(t,e,r,n,s,i){Jd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&iu(e,r,!1),_t(t,e,i);n=e.stateNode,Gp.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Gr(e,t.child,null,i),e.child=Gr(e,null,a,i)):be(t,e,a,i),e.memoizedState=n.state,s&&iu(e,r,!0),e.child}function Qd(t){var e=t.stateNode;e.pendingContext?su(t,e.pendingContext,e.pendingContext!==e.context):e.context&&su(t,e.context,!1),Xa(t,e.containerInfo)}function ku(t,e,r,n,s){return Kr(),qa(s),e.flags|=256,be(t,e,r,n),e.child}var na={dehydrated:null,treeContext:null,retryLane:0};function sa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yd(t,e,r){var n=e.pendingProps,s=re.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Y(re,s&1),t===null)return Qo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oi(o,n,0,null),t=sr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sa(r),e.memoizedState=na,t):ol(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Jp(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Mt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mt(a,i):(i=sr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?sa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=na,n}return i=t.child,t=i.sibling,n=Mt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ol(t,e){return e=Oi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ws(t,e,r,n){return n!==null&&qa(n),Gr(e,t.child,null,r),t=ol(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=lo(Error(C(422))),ws(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Oi({mode:"visible",children:n.children},s,0,null),i=sr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Gr(e,t.child,null,o),e.child.memoizedState=sa(o),e.memoizedState=na,i);if(!(e.mode&1))return ws(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(C(419)),n=lo(i,n,void 0),ws(t,e,o,n)}if(a=(o&t.childLanes)!==0,je||a){if(n=ge,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(t,s),st(n,t,s,-1))}return hl(),n=lo(Error(C(421))),ws(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=lg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,De=Lt(s.nextSibling),Ue=e,te=!0,rt=null,t!==null&&(We[Ve++]=pt,We[Ve++]=gt,We[Ve++]=ar,pt=t.id,gt=t.overflow,ar=e),e=ol(e,n.children),e.flags|=4096,e)}function Su(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Yo(t.return,e,r)}function uo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Xd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(be(t,e,n.children,r),n=re.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Su(t,r,e);else if(t.tag===19)Su(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Y(re,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ii(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),uo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ii(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}uo(e,!0,r,null,i);break;case"together":uo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ms(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _t(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ur|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,r=Mt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Mt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Qp(t,e,r){switch(e.tag){case 3:Qd(e),Kr();break;case 5:xd(e);break;case 1:Ne(e.type)&&Zs(e);break;case 4:Xa(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Y(ri,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Y(re,re.current&1),e.flags|=128,null):r&e.child.childLanes?Yd(t,e,r):(Y(re,re.current&1),t=_t(t,e,r),t!==null?t.sibling:null);Y(re,re.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(re,re.current),n)break;return null;case 22:case 23:return e.lanes=0,Gd(t,e,r)}return _t(t,e,r)}var Zd,ia,eh,th;Zd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ia=function(){};eh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,tr(ct.current);var i=null;switch(r){case"input":s=Co(t,s),n=Co(t,n),i=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":s=jo(t,s),n=jo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ys)}No(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(On.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(On.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&X("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};th=function(t,e,r,n){r!==n&&(e.flags|=4)};function un(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Yp(t,e,r){var n=e.pendingProps;switch(Ha(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return Ne(e.type)&&Xs(),Se(e),null;case 3:return n=e.stateNode,Jr(),Z(Pe),Z(xe),el(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(fa(rt),rt=null))),ia(t,e),Se(e),null;case 5:Za(e);var s=tr(zn.current);if(r=e.type,t!==null&&e.stateNode!=null)eh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(C(166));return Se(e),null}if(t=tr(ct.current),vs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[lt]=e,n[Un]=i,t=(e.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<gn.length;s++)X(gn[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":Pl(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":Al(n,i),X("invalid",n)}No(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ms(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ms(n.textContent,a,t),s=["children",""+a]):On.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&X("scroll",n)}switch(r){case"input":ls(n),Nl(n,i,!0);break;case"textarea":ls(n),Il(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ys)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[lt]=e,t[Un]=n,Zd(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ao(r,n),r){case"dialog":X("cancel",t),X("close",t),s=n;break;case"iframe":case"object":case"embed":X("load",t),s=n;break;case"video":case"audio":for(s=0;s<gn.length;s++)X(gn[s],t);s=n;break;case"source":X("error",t),s=n;break;case"img":case"image":case"link":X("error",t),X("load",t),s=n;break;case"details":X("toggle",t),s=n;break;case"input":Pl(t,n),s=Co(t,n),X("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),X("invalid",t);break;case"textarea":Al(t,n),s=jo(t,n),X("invalid",t);break;default:s=n}No(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Nc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jc(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Rn(t,l):typeof l=="number"&&Rn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(On.hasOwnProperty(i)?l!=null&&i==="onScroll"&&X("scroll",t):l!=null&&ja(t,i,l,o))}switch(r){case"input":ls(t),Nl(t,n,!1);break;case"textarea":ls(t),Il(t);break;case"option":n.value!=null&&t.setAttribute("value",""+zt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Dr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Dr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ys)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Se(e),null;case 6:if(t&&e.stateNode!=null)th(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(C(166));if(r=tr(zn.current),tr(ct.current),vs(e)){if(n=e.stateNode,r=e.memoizedProps,n[lt]=e,(i=n.nodeValue!==r)&&(t=Ue,t!==null))switch(t.tag){case 3:ms(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ms(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=e,e.stateNode=n}return Se(e),null;case 13:if(Z(re),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&De!==null&&e.mode&1&&!(e.flags&128))wd(),Kr(),e.flags|=98560,i=!1;else if(i=vs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[lt]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),i=!1}else rt!==null&&(fa(rt),rt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?fe===0&&(fe=3):hl())),e.updateQueue!==null&&(e.flags|=4),Se(e),null);case 4:return Jr(),ia(t,e),t===null&&$n(e.stateNode.containerInfo),Se(e),null;case 10:return Ja(e.type._context),Se(e),null;case 17:return Ne(e.type)&&Xs(),Se(e),null;case 19:if(Z(re),i=e.memoizedState,i===null)return Se(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)un(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ii(t),o!==null){for(e.flags|=128,un(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Y(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>Yr&&(e.flags|=128,n=!0,un(i,!1),e.lanes=4194304)}else{if(!n)if(t=ii(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),un(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Se(e),null}else 2*ae()-i.renderingStartTime>Yr&&r!==1073741824&&(e.flags|=128,n=!0,un(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,r=re.current,Y(re,n?r&1|2:r&1),e):(Se(e),null);case 22:case 23:return dl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Le&1073741824&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Xp(t,e){switch(Ha(e),e.tag){case 1:return Ne(e.type)&&Xs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jr(),Z(Pe),Z(xe),el(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Za(e),null;case 13:if(Z(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(re),null;case 4:return Jr(),null;case 10:return Ja(e.type._context),null;case 22:case 23:return dl(),null;case 24:return null;default:return null}}var _s=!1,Ee=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,I=null;function Ir(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(t,e,n)}else r.current=null}function oa(t,e,r){try{r()}catch(n){oe(t,e,n)}}var Eu=!1;function eg(t,e){if(Wo=Gs,t=od(),Wa(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,m=t,f=null;t:for(;;){for(var h;m!==r||s!==0&&m.nodeType!==3||(a=o+s),m!==i||n!==0&&m.nodeType!==3||(l=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)f=m,m=h;for(;;){if(m===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++c===n&&(l=o),(h=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=h}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vo={focusedElem:t,selectionRange:r},Gs=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,g=e.stateNode,d=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Xe(e.type,y),S);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){oe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return v=Eu,Eu=!1,v}function En(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&oa(e,r,i)}s=s.next}while(s!==n)}}function Ti(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function aa(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rh(t){var e=t.alternate;e!==null&&(t.alternate=null,rh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lt],delete e[Un],delete e[Ko],delete e[$p],delete e[Dp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nh(t){return t.tag===5||t.tag===3||t.tag===4}function xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function la(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ys));else if(n!==4&&(t=t.child,t!==null))for(la(t,e,r),t=t.sibling;t!==null;)la(t,e,r),t=t.sibling}function ua(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ua(t,e,r),t=t.sibling;t!==null;)ua(t,e,r),t=t.sibling}var ye=null,et=!1;function Et(t,e,r){for(r=r.child;r!==null;)sh(t,e,r),r=r.sibling}function sh(t,e,r){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(yi,r)}catch{}switch(r.tag){case 5:Ee||Ir(r,e);case 6:var n=ye,s=et;ye=null,Et(t,e,r),ye=n,et=s,ye!==null&&(et?(t=ye,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(et?(t=ye,r=r.stateNode,t.nodeType===8?ro(t.parentNode,r):t.nodeType===1&&ro(t,r),An(t)):ro(ye,r.stateNode));break;case 4:n=ye,s=et,ye=r.stateNode.containerInfo,et=!0,Et(t,e,r),ye=n,et=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&oa(r,e,o),s=s.next}while(s!==n)}Et(t,e,r);break;case 1:if(!Ee&&(Ir(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){oe(r,e,a)}Et(t,e,r);break;case 21:Et(t,e,r);break;case 22:r.mode&1?(Ee=(n=Ee)||r.memoizedState!==null,Et(t,e,r),Ee=n):Et(t,e,r);break;default:Et(t,e,r)}}function bu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Zp),e.forEach(function(n){var s=ug.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ye=a.stateNode,et=!1;break e;case 3:ye=a.stateNode.containerInfo,et=!0;break e;case 4:ye=a.stateNode.containerInfo,et=!0;break e}a=a.return}if(ye===null)throw Error(C(160));sh(i,o,s),ye=null,et=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){oe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ih(e,t),e=e.sibling}function ih(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qe(e,t),ot(t),n&4){try{En(3,t,t.return),Ti(3,t)}catch(y){oe(t,t.return,y)}try{En(5,t,t.return)}catch(y){oe(t,t.return,y)}}break;case 1:Qe(e,t),ot(t),n&512&&r!==null&&Ir(r,r.return);break;case 5:if(Qe(e,t),ot(t),n&512&&r!==null&&Ir(r,r.return),t.flags&32){var s=t.stateNode;try{Rn(s,"")}catch(y){oe(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Cc(s,i),Ao(a,o);var u=Ao(a,i);for(o=0;o<l.length;o+=2){var c=l[o],m=l[o+1];c==="style"?Nc(s,m):c==="dangerouslySetInnerHTML"?jc(s,m):c==="children"?Rn(s,m):ja(s,c,m,u)}switch(a){case"input":Oo(s,i);break;case"textarea":Oc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Dr(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Dr(s,!!i.multiple,i.defaultValue,!0):Dr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Un]=i}catch(y){oe(t,t.return,y)}}break;case 6:if(Qe(e,t),ot(t),n&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){oe(t,t.return,y)}}break;case 3:if(Qe(e,t),ot(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{An(e.containerInfo)}catch(y){oe(t,t.return,y)}break;case 4:Qe(e,t),ot(t);break;case 13:Qe(e,t),ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ul=ae())),n&4&&bu(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Ee=(u=Ee)||c,Qe(e,t),Ee=u):Qe(e,t),ot(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(m=I=c;I!==null;){switch(f=I,h=f.child,f.tag){case 0:case 11:case 14:case 15:En(4,f,f.return);break;case 1:Ir(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){oe(n,r,y)}}break;case 5:Ir(f,f.return);break;case 22:if(f.memoizedState!==null){Cu(m);continue}}h!==null?(h.return=f,I=h):Cu(m)}c=c.sibling}e:for(c=null,m=t;;){if(m.tag===5){if(c===null){c=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Pc("display",o))}catch(y){oe(t,t.return,y)}}}else if(m.tag===6){if(c===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){oe(t,t.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;c===m&&(c=null),m=m.return}c===m&&(c=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(e,t),ot(t),n&4&&bu(t);break;case 21:break;default:Qe(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Rn(s,""),n.flags&=-33);var i=xu(t);ua(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=xu(t);la(t,a,o);break;default:throw Error(C(161))}}catch(l){oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tg(t,e,r){I=t,oh(t)}function oh(t,e,r){for(var n=(t.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||_s;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ee;a=_s;var u=Ee;if(_s=o,(Ee=l)&&!u)for(I=s;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?Ou(s):l!==null?(l.return=o,I=l):Ou(s);for(;i!==null;)I=i,oh(i),i=i.sibling;I=s,_s=a,Ee=u}Tu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Tu(t)}}function Tu(t){for(;I!==null;){var e=I;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ee||Ti(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ee)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Xe(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var m=c.dehydrated;m!==null&&An(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ee||e.flags&512&&aa(e)}catch(f){oe(e,e.return,f)}}if(e===t){I=null;break}if(r=e.sibling,r!==null){r.return=e.return,I=r;break}I=e.return}}function Cu(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var r=e.sibling;if(r!==null){r.return=e.return,I=r;break}I=e.return}}function Ou(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ti(4,e)}catch(l){oe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){oe(e,s,l)}}var i=e.return;try{aa(e)}catch(l){oe(e,i,l)}break;case 5:var o=e.return;try{aa(e)}catch(l){oe(e,o,l)}}}catch(l){oe(e,e.return,l)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var rg=Math.ceil,li=kt.ReactCurrentDispatcher,al=kt.ReactCurrentOwner,qe=kt.ReactCurrentBatchConfig,q=0,ge=null,ue=null,we=0,Le=0,Lr=Wt(0),fe=0,Vn=null,ur=0,Ci=0,ll=0,xn=null,Re=null,ul=0,Yr=1/0,dt=null,ui=!1,ca=null,Dt=null,ks=!1,Pt=null,ci=0,bn=0,da=null,zs=-1,Bs=0;function Te(){return q&6?ae():zs!==-1?zs:zs=ae()}function Ut(t){return t.mode&1?q&2&&we!==0?we&-we:Mp.transition!==null?(Bs===0&&(Bs=Vc()),Bs):(t=G,t!==0||(t=window.event,t=t===void 0?16:Yc(t.type)),t):1}function st(t,e,r,n){if(50<bn)throw bn=0,da=null,Error(C(185));Zn(t,r,n),(!(q&2)||t!==ge)&&(t===ge&&(!(q&2)&&(Ci|=r),fe===4&&Ot(t,we)),Ae(t,n),r===1&&q===0&&!(e.mode&1)&&(Yr=ae()+500,Ei&&Vt()))}function Ae(t,e){var r=t.callbackNode;Mf(t,e);var n=Ks(t,t===ge?we:0);if(n===0)r!==null&&Dl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Dl(r),e===1)t.tag===0?Up(Ru.bind(null,t)):md(Ru.bind(null,t)),Ip(function(){!(q&6)&&Vt()}),r=null;else{switch(Hc(n)){case 1:r=La;break;case 4:r=Fc;break;case 16:r=qs;break;case 536870912:r=Wc;break;default:r=qs}r=ph(r,ah.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ah(t,e){if(zs=-1,Bs=0,q&6)throw Error(C(327));var r=t.callbackNode;if(Fr()&&t.callbackNode!==r)return null;var n=Ks(t,t===ge?we:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=di(t,n);else{e=n;var s=q;q|=2;var i=uh();(ge!==t||we!==e)&&(dt=null,Yr=ae()+500,nr(t,e));do try{ig();break}catch(a){lh(t,a)}while(!0);Ga(),li.current=i,q=s,ue!==null?e=0:(ge=null,we=0,e=fe)}if(e!==0){if(e===2&&(s=Uo(t),s!==0&&(n=s,e=ha(t,s))),e===1)throw r=Vn,nr(t,0),Ot(t,n),Ae(t,ae()),r;if(e===6)Ot(t,n);else{if(s=t.current.alternate,!(n&30)&&!ng(s)&&(e=di(t,n),e===2&&(i=Uo(t),i!==0&&(n=i,e=ha(t,i))),e===1))throw r=Vn,nr(t,0),Ot(t,n),Ae(t,ae()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(C(345));case 2:Jt(t,Re,dt);break;case 3:if(Ot(t,n),(n&130023424)===n&&(e=ul+500-ae(),10<e)){if(Ks(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Te(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qo(Jt.bind(null,t,Re,dt),e);break}Jt(t,Re,dt);break;case 4:if(Ot(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-nt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rg(n/1960))-n,10<n){t.timeoutHandle=qo(Jt.bind(null,t,Re,dt),n);break}Jt(t,Re,dt);break;case 5:Jt(t,Re,dt);break;default:throw Error(C(329))}}}return Ae(t,ae()),t.callbackNode===r?ah.bind(null,t):null}function ha(t,e){var r=xn;return t.current.memoizedState.isDehydrated&&(nr(t,e).flags|=256),t=di(t,e),t!==2&&(e=Re,Re=r,e!==null&&fa(e)),t}function fa(t){Re===null?Re=t:Re.push.apply(Re,t)}function ng(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!it(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ot(t,e){for(e&=~ll,e&=~Ci,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-nt(e),n=1<<r;t[r]=-1,e&=~n}}function Ru(t){if(q&6)throw Error(C(327));Fr();var e=Ks(t,0);if(!(e&1))return Ae(t,ae()),null;var r=di(t,e);if(t.tag!==0&&r===2){var n=Uo(t);n!==0&&(e=n,r=ha(t,n))}if(r===1)throw r=Vn,nr(t,0),Ot(t,e),Ae(t,ae()),r;if(r===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jt(t,Re,dt),Ae(t,ae()),null}function cl(t,e){var r=q;q|=1;try{return t(e)}finally{q=r,q===0&&(Yr=ae()+500,Ei&&Vt())}}function cr(t){Pt!==null&&Pt.tag===0&&!(q&6)&&Fr();var e=q;q|=1;var r=qe.transition,n=G;try{if(qe.transition=null,G=1,t)return t()}finally{G=n,qe.transition=r,q=e,!(q&6)&&Vt()}}function dl(){Le=Lr.current,Z(Lr)}function nr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Ap(r)),ue!==null)for(r=ue.return;r!==null;){var n=r;switch(Ha(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xs();break;case 3:Jr(),Z(Pe),Z(xe),el();break;case 5:Za(n);break;case 4:Jr();break;case 13:Z(re);break;case 19:Z(re);break;case 10:Ja(n.type._context);break;case 22:case 23:dl()}r=r.return}if(ge=t,ue=t=Mt(t.current,null),we=Le=e,fe=0,Vn=null,ll=Ci=ur=0,Re=xn=null,er!==null){for(e=0;e<er.length;e++)if(r=er[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}er=null}return t}function lh(t,e){do{var r=ue;try{if(Ga(),Ds.current=ai,oi){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}oi=!1}if(lr=0,pe=he=ne=null,Sn=!1,Bn=0,al.current=null,r===null||r.return===null){fe=1,Vn=e,ue=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=we,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,m=c.tag;if(!(c.mode&1)&&(m===0||m===11||m===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=mu(o);if(h!==null){h.flags&=-257,vu(h,o,a,i,e),h.mode&1&&gu(i,u,e),e=h,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){gu(i,u,e),hl();break e}l=Error(C(426))}}else if(te&&a.mode&1){var S=mu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vu(S,o,a,i,e),qa(Qr(l,a));break e}}i=l=Qr(l,a),fe!==4&&(fe=2),xn===null?xn=[i]:xn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Hd(i,l,e);uu(i,g);break e;case 1:a=l;var d=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Dt===null||!Dt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=qd(i,a,e);uu(i,w);break e}}i=i.return}while(i!==null)}dh(r)}catch(b){e=b,ue===r&&r!==null&&(ue=r=r.return);continue}break}while(!0)}function uh(){var t=li.current;return li.current=ai,t===null?ai:t}function hl(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(ur&268435455)&&!(Ci&268435455)||Ot(ge,we)}function di(t,e){var r=q;q|=2;var n=uh();(ge!==t||we!==e)&&(dt=null,nr(t,e));do try{sg();break}catch(s){lh(t,s)}while(!0);if(Ga(),q=r,li.current=n,ue!==null)throw Error(C(261));return ge=null,we=0,fe}function sg(){for(;ue!==null;)ch(ue)}function ig(){for(;ue!==null&&!jf();)ch(ue)}function ch(t){var e=fh(t.alternate,t,Le);t.memoizedProps=t.pendingProps,e===null?dh(t):ue=e,al.current=null}function dh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Xp(r,e),r!==null){r.flags&=32767,ue=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ue=null;return}}else if(r=Yp(r,e,Le),r!==null){ue=r;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);fe===0&&(fe=5)}function Jt(t,e,r){var n=G,s=qe.transition;try{qe.transition=null,G=1,og(t,e,r,n)}finally{qe.transition=s,G=n}return null}function og(t,e,r,n){do Fr();while(Pt!==null);if(q&6)throw Error(C(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(zf(t,i),t===ge&&(ue=ge=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ks||(ks=!0,ph(qs,function(){return Fr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var o=G;G=1;var a=q;q|=4,al.current=null,eg(t,r),ih(r,t),Tp(Vo),Gs=!!Wo,Vo=Wo=null,t.current=r,tg(r),Pf(),q=a,G=o,qe.transition=i}else t.current=r;if(ks&&(ks=!1,Pt=t,ci=s),i=t.pendingLanes,i===0&&(Dt=null),If(r.stateNode),Ae(t,ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ui)throw ui=!1,t=ca,ca=null,t;return ci&1&&t.tag!==0&&Fr(),i=t.pendingLanes,i&1?t===da?bn++:(bn=0,da=t):bn=0,Vt(),null}function Fr(){if(Pt!==null){var t=Hc(ci),e=qe.transition,r=G;try{if(qe.transition=null,G=16>t?16:t,Pt===null)var n=!1;else{if(t=Pt,Pt=null,ci=0,q&6)throw Error(C(331));var s=q;for(q|=4,I=t.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:En(8,c,i)}var m=c.child;if(m!==null)m.return=c,I=m;else for(;I!==null;){c=I;var f=c.sibling,h=c.return;if(rh(c),c===u){I=null;break}if(f!==null){f.return=h,I=f;break}I=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:En(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,I=g;break e}I=i.return}}var d=t.current;for(I=d;I!==null;){o=I;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,I=p;else e:for(o=d;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ti(9,a)}}catch(b){oe(a,a.return,b)}if(a===o){I=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,I=w;break e}I=a.return}}if(q=s,Vt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(yi,t)}catch{}n=!0}return n}finally{G=r,qe.transition=e}}return!1}function ju(t,e,r){e=Qr(r,e),e=Hd(t,e,1),t=$t(t,e,1),e=Te(),t!==null&&(Zn(t,1,e),Ae(t,e))}function oe(t,e,r){if(t.tag===3)ju(t,t,r);else for(;e!==null;){if(e.tag===3){ju(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dt===null||!Dt.has(n))){t=Qr(r,t),t=qd(e,t,1),e=$t(e,t,1),t=Te(),e!==null&&(Zn(e,1,t),Ae(e,t));break}}e=e.return}}function ag(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Te(),t.pingedLanes|=t.suspendedLanes&r,ge===t&&(we&r)===r&&(fe===4||fe===3&&(we&130023424)===we&&500>ae()-ul?nr(t,0):ll|=r),Ae(t,e)}function hh(t,e){e===0&&(t.mode&1?(e=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):e=1);var r=Te();t=wt(t,e),t!==null&&(Zn(t,e,r),Ae(t,r))}function lg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hh(t,r)}function ug(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(e),hh(t,r)}var fh;fh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)je=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return je=!1,Qp(t,e,r);je=!!(t.flags&131072)}else je=!1,te&&e.flags&1048576&&vd(e,ti,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ms(t,e),t=e.pendingProps;var s=qr(e,xe.current);Br(e,r),s=rl(null,e,n,t,s,r);var i=nl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ne(n)?(i=!0,Zs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ya(e),s.updater=bi,e.stateNode=s,s._reactInternals=e,Zo(e,n,t,r),e=ra(null,e,n,!0,i,r)):(e.tag=0,te&&i&&Va(e),be(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ms(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=dg(n),t=Xe(n,t),s){case 0:e=ta(null,e,n,t,r);break e;case 1:e=_u(null,e,n,t,r);break e;case 11:e=yu(null,e,n,t,r);break e;case 14:e=wu(null,e,n,Xe(n.type,t),r);break e}throw Error(C(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),ta(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),_u(t,e,n,s,r);case 3:e:{if(Qd(e),t===null)throw Error(C(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Ed(t,e),si(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qr(Error(C(423)),e),e=ku(t,e,n,r,s);break e}else if(n!==s){s=Qr(Error(C(424)),e),e=ku(t,e,n,r,s);break e}else for(De=Lt(e.stateNode.containerInfo.firstChild),Ue=e,te=!0,rt=null,r=kd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),n===s){e=_t(t,e,r);break e}be(t,e,n,r)}e=e.child}return e;case 5:return xd(e),t===null&&Qo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ho(n,s)?o=null:i!==null&&Ho(n,i)&&(e.flags|=32),Jd(t,e),be(t,e,o,r),e.child;case 6:return t===null&&Qo(e),null;case 13:return Yd(t,e,r);case 4:return Xa(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gr(e,null,n,r):be(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),yu(t,e,n,s,r);case 7:return be(t,e,e.pendingProps,r),e.child;case 8:return be(t,e,e.pendingProps.children,r),e.child;case 12:return be(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Y(ri,n._currentValue),n._currentValue=o,i!==null)if(it(i.value,o)){if(i.children===s.children&&!Pe.current){e=_t(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=mt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Yo(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Yo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Br(e,r),s=Ke(s),n=n(s),e.flags|=1,be(t,e,n,r),e.child;case 14:return n=e.type,s=Xe(n,e.pendingProps),s=Xe(n.type,s),wu(t,e,n,s,r);case 15:return Kd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),Ms(t,e),e.tag=1,Ne(n)?(t=!0,Zs(e)):t=!1,Br(e,r),Vd(e,n,s),Zo(e,n,s,r),ra(null,e,n,!0,t,r);case 19:return Xd(t,e,r);case 22:return Gd(t,e,r)}throw Error(C(156,e.tag))};function ph(t,e){return Bc(t,e)}function cg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,e,r,n){return new cg(t,e,r,n)}function fl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dg(t){if(typeof t=="function")return fl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Na)return 11;if(t===Aa)return 14}return 2}function Mt(t,e){var r=t.alternate;return r===null?(r=He(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")fl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case br:return sr(r.children,s,i,e);case Pa:o=8,s|=8;break;case Eo:return t=He(12,r,e,s|2),t.elementType=Eo,t.lanes=i,t;case xo:return t=He(13,r,e,s),t.elementType=xo,t.lanes=i,t;case bo:return t=He(19,r,e,s),t.elementType=bo,t.lanes=i,t;case xc:return Oi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sc:o=10;break e;case Ec:o=9;break e;case Na:o=11;break e;case Aa:o=14;break e;case xt:o=16,n=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=He(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function sr(t,e,r,n){return t=He(7,t,n,e),t.lanes=r,t}function Oi(t,e,r,n){return t=He(22,t,n,e),t.elementType=xc,t.lanes=r,t.stateNode={isHidden:!1},t}function co(t,e,r){return t=He(6,t,null,e),t.lanes=r,t}function ho(t,e,r){return e=He(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pl(t,e,r,n,s,i,o,a,l){return t=new hg(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=He(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ya(i),t}function fg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gh(t){if(!t)return Bt;t=t._reactInternals;e:{if(hr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ne(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var r=t.type;if(Ne(r))return gd(t,r,e)}return e}function mh(t,e,r,n,s,i,o,a,l){return t=pl(r,n,!0,t,s,i,o,a,l),t.context=gh(null),r=t.current,n=Te(),s=Ut(r),i=mt(n,s),i.callback=e??null,$t(r,i,s),t.current.lanes=s,Zn(t,s,n),Ae(t,n),t}function Ri(t,e,r,n){var s=e.current,i=Te(),o=Ut(s);return r=gh(r),e.context===null?e.context=r:e.pendingContext=r,e=mt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$t(s,e,o),t!==null&&(st(t,s,o,i),$s(t,s,o)),o}function hi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function gl(t,e){Pu(t,e),(t=t.alternate)&&Pu(t,e)}function pg(){return null}var vh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ml(t){this._internalRoot=t}ji.prototype.render=ml.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Ri(t,e,null,null)};ji.prototype.unmount=ml.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cr(function(){Ri(null,t,null,null)}),e[yt]=null}};function ji(t){this._internalRoot=t}ji.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ct.length&&e!==0&&e<Ct[r].priority;r++);Ct.splice(r,0,t),r===0&&Qc(t)}};function vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nu(){}function gg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=hi(o);i.call(u)}}var o=mh(e,n,t,0,null,!1,!1,"",Nu);return t._reactRootContainer=o,t[yt]=o.current,$n(t.nodeType===8?t.parentNode:t),cr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=hi(l);a.call(u)}}var l=pl(t,0,!1,null,null,!1,!1,"",Nu);return t._reactRootContainer=l,t[yt]=l.current,$n(t.nodeType===8?t.parentNode:t),cr(function(){Ri(e,l,r,n)}),l}function Ni(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hi(o);a.call(l)}}Ri(e,o,t,s)}else o=gg(r,e,t,s,n);return hi(o)}qc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pn(e.pendingLanes);r!==0&&($a(e,r|1),Ae(e,ae()),!(q&6)&&(Yr=ae()+500,Vt()))}break;case 13:cr(function(){var n=wt(t,1);if(n!==null){var s=Te();st(n,t,1,s)}}),gl(t,1)}};Da=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var r=Te();st(e,t,134217728,r)}gl(t,134217728)}};Kc=function(t){if(t.tag===13){var e=Ut(t),r=wt(t,e);if(r!==null){var n=Te();st(r,t,e,n)}gl(t,e)}};Gc=function(){return G};Jc=function(t,e){var r=G;try{return G=t,e()}finally{G=r}};Lo=function(t,e,r){switch(e){case"input":if(Oo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Si(n);if(!s)throw Error(C(90));Tc(n),Oo(n,s)}}}break;case"textarea":Oc(t,r);break;case"select":e=r.value,e!=null&&Dr(t,!!r.multiple,e,!1)}};Lc=cl;$c=cr;var mg={usingClientEntryPoint:!1,Events:[ts,Rr,Si,Ac,Ic,cl]},cn={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vg={bundleType:cn.bundleType,version:cn.version,rendererPackageName:cn.rendererPackageName,rendererConfig:cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mc(t),t===null?null:t.stateNode},findFiberByHostInstance:cn.findFiberByHostInstance||pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{yi=Ss.inject(vg),ut=Ss}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mg;ze.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vl(e))throw Error(C(200));return fg(t,e,null,r)};ze.createRoot=function(t,e){if(!vl(t))throw Error(C(299));var r=!1,n="",s=vh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pl(t,1,!1,null,null,r,!1,n,s),t[yt]=e.current,$n(t.nodeType===8?t.parentNode:t),new ml(e)};ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Mc(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t){return cr(t)};ze.hydrate=function(t,e,r){if(!Pi(e))throw Error(C(200));return Ni(null,t,e,!0,r)};ze.hydrateRoot=function(t,e,r){if(!vl(t))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=vh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=mh(e,null,t,1,r??null,s,!1,i,o),t[yt]=e.current,$n(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ji(e)};ze.render=function(t,e,r){if(!Pi(e))throw Error(C(200));return Ni(null,t,e,!1,r)};ze.unmountComponentAtNode=function(t){if(!Pi(t))throw Error(C(40));return t._reactRootContainer?(cr(function(){Ni(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};ze.unstable_batchedUpdates=cl;ze.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Pi(r))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Ni(t,e,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yh)}catch(t){console.error(t)}}yh(),yc.exports=ze;var yg=yc.exports,Au=yg;ko.createRoot=Au.createRoot,ko.hydrateRoot=Au.hydrateRoot;function Ai(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function wg(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(m){o(m)}}function l(c){try{u(n.throw(c))}catch(m){o(m)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}const _g=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class yl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class kg extends yl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Iu extends yl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lu extends yl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pa||(pa={}));class Sg{constructor(e,{headers:r={},customFetch:n,region:s=pa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=_g(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return wg(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:m}=n;let f={},{region:h}=n;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(f["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let S=c;m&&(o=new AbortController,i=setTimeout(()=>o.abort(),m),c?(S=o.signal,c.addEventListener("abort",()=>o.abort())):S=o.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:y,signal:S}).catch(b=>{throw new kg(b)}),d=g.headers.get("x-relay-error");if(d&&d==="true")throw new Iu(g);if(!g.ok)throw new Lu(g);let p=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield g.json():p==="application/octet-stream"||p==="application/pdf"?w=yield g.blob():p==="text/event-stream"?w=g:p==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Lu||a instanceof Iu?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Eg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},xg=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var m,f;if(r.method!=="HEAD"){var h;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?a=g:a=JSON.parse(g))}const y=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),S=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&S&&S.length>1&&(l=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&y===""?(u=204,c="No Content"):o={message:y}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new Eg(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",l="",u="";const c=i==null?void 0:i.cause;if(c){var m,f,h,v;const g=(m=c==null?void 0:c.message)!==null&&m!==void 0?m:"",d=(f=c==null?void 0:c.code)!==null&&f!==void 0?f:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${g}`,d&&(a+=` (${d})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var y;a=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}const S=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(l+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},bg=class extends xg{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const $u=new RegExp("[,()]");var kr=class extends bg{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&$u.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&$u.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Tg=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new kr({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new kr({method:s,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,m)=>c.concat(Object.keys(m)),[]);if(u.length>0){const c=[...new Set(u)].map(m=>`"${m}"`);a.searchParams.set("columns",c.join(","))}}return new kr({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new kr({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new kr({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Hn(t){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(t)}function Cg(t,e){if(Hn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Og(t){var e=Cg(t,"string");return Hn(e)=="symbol"?e:e+""}function Rg(t,e,r){return(e=Og(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Du(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Du(Object(r),!0).forEach(function(n){Rg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Du(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var jg=class wh{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,m=setTimeout(()=>c.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(m),a(l,u);const h=()=>{clearTimeout(m),c.abort()};return f.addEventListener("abort",h,{once:!0}),a(l,Es(Es({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(m),f.removeEventListener("abort",h)})}return a(l,Es(Es({},u),{},{signal:c.signal})).finally(()=>clearTimeout(m))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Tg(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new wh(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(c)),m=n&&Object.values(r).some(c);m?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,v])=>v!==void 0).map(([h,v])=>[h,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([h,v])=>{l.searchParams.append(h,v)})):(a="POST",u=r);const f=new Headers(this.headers);return m?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new kr({method:a,url:l,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Pg{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ng="2.96.0",Ag=`realtime-js/${Ng}`,Ig="1.0.0",_h="2.0.0",Uu=_h,ga=1e4,Lg=1e3,$g=100;var Tt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tt||(Tt={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var tt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tt||(tt={}));var ma;(function(t){t.websocket="websocket"})(ma||(ma={}));var Yt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yt||(Yt={}));class Dg{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+m.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(h),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,a.length),v.setUint8(y++,o.length),v.setUint8(y++,u.length),v.setUint8(y++,m.length),v.setUint8(y++,r),Array.from(l,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(m,g=>v.setUint8(y++,g.charCodeAt(0)));var S=new Uint8Array(h.byteLength+n.byteLength);return S.set(new Uint8Array(h),0),S.set(new Uint8Array(n),h.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const m=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),h=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:c,payload:h};return o>0&&(v.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class kh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const Mu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Ug(o,t,e,s),i),{}):{}},Ug=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Sh(i,o):va(o)},Sh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Fg(e,r)}switch(t){case Q.bool:return Mg(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return zg(e);case Q.json:case Q.jsonb:return Bg(e);case Q.timestamp:return Wg(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return va(e);default:return va(e)}},va=t=>t,Mg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Fg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Sh(e,a))}return t},Wg=t=>typeof t=="string"?t.replace(" ","T"):t,Eh=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class fo{constructor(e,r,n={},s=ga){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zu||(zu={}));class Tn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Tn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const m=i[u];if(m){const f=c.map(S=>S.presence_ref),h=m.map(S=>S.presence_ref),v=c.filter(S=>h.indexOf(S.presence_ref)<0),y=m.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(a[u]=v),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const m=e[a].map(h=>h.presence_ref),f=c.filter(h=>m.indexOf(h.presence_ref)<0);e[a].unshift(...f)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(m=>m.presence_ref);u=u.filter(m=>c.indexOf(m.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bu||(Bu={}));var Cn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cn||(Cn={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class $r{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fo(this,tt.join,this.params,this.timeout),this.rejoinTimer=new kh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Tn(this),this.broadcastEndpointURL=Eh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Cn.PRESENCE]&&this.bindings[Cn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(ht.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(ht.CLOSED)),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){e==null||e(ht.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,S=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,g=[];for(let d=0;d<S;d++){const p=y[d],{filter:{event:w,schema:b,table:T,filter:j}}=p,P=h&&h[d];if(P&&P.event===w&&$r.isFilterValueEqual(P.schema,b)&&$r.isFilterValueEqual(P.table,T)&&$r.isFilterValueEqual(P.filter,j))g.push(Object.assign(Object.assign({},p),{id:P.id}));else{this.unsubscribe(),this.state=de.errored,e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(ht.SUBSCRIBED);return}}).receive("error",h=>{this.state=de.errored,e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===de.joined&&e===Cn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new fo(this,tt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$g){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=tt;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var v,y,S;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(y=h.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var v,y,S,g,d,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const w=h.id,b=(v=h.filter)===null||v===void 0?void 0:v.event;return w&&((y=r.ids)===null||y===void 0?void 0:y.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(d=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||d===void 0?void 0:d.toLocaleLowerCase();return w==="*"||w===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:S,commit_timestamp:g,type:d,errors:p}=v;f=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:g,eventType:d,new:{},old:{},errors:p}),this._getPayloadRecords(v))}h.callback(f,n)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&$r.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tt.close,{},e)}_onError(e){this._on(tt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Mu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Mu(e.columns,e.old_record)),r}}const po=()=>{},xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vg=[1e3,2e3,5e3,1e4],Hg=1e4,qg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kg{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ga,this.transport=null,this.heartbeatIntervalMs=xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=po,this.ref=0,this.reconnectTimer=null,this.vsn=Uu,this.logger=po,this.conn=null,this.sendBuffer=[],this.serializer=new Dg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ma.websocket}`,this.httpEndpoint=Eh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Tt.connecting:return Yt.Connecting;case Tt.open:return Yt.Open;case Tt.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new $r(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Lg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Tt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Tt.open||this.conn.readyState===Tt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(tt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([qg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Ag};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(tt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,m,f,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ga,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:xs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:po,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Uu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>Vg[v-1]||Hg,this.vsn){case Ig:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(v,y)=>y(JSON.parse(v));break;case _h:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var qn=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Gg(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Jg(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Qg(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=Gg(t.baseUrl,n,s),l=await Jg(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),m=(u.headers.get("content-type")||"").includes("application/json"),f=m&&c?JSON.parse(c):c;if(!u.ok){const h=m?f:void 0,v=h==null?void 0:h.error;throw new qn((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:h})}return{status:u.status,headers:u.headers,data:f}}}}function bs(t){return t.join("")}var Yg=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:bs(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bs(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bs(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bs(t.namespace)}`}),!0}catch(e){if(e instanceof qn&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof qn&&r.status===409)return;throw r}}};function gr(t){return t.join("")}var Xg=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof qn&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof qn&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Zg=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Qg({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Yg(this.client,e),this.tableOps=new Xg(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ii=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Li(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ts=class extends Ii{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xh=class extends Ii{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const em=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ya=t=>{if(Array.isArray(t))return t.map(r=>ya(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ya(n)}),e},rm=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Kn(t){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(t)}function nm(t,e){if(Kn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sm(t){var e=nm(t,"string");return Kn(e)=="symbol"?e:e+""}function im(t,e,r){return(e=sm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fu(Object(r),!0).forEach(function(n){im(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fu(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Wu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},om=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Ts(Wu(o),i,a,n))}).catch(()=>{if(n==="vectors"){const o=i+"";e(new Ts(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";e(new Ts(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";e(new Ts(s.statusText||`HTTP ${i} error`,i,o,n))}}else e(new xh(Wu(t),t,n))},am=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?D(D({},s),r):(tm(n)?(s.headers=D({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),D(D({},s),r))};async function dn(t,e,r,n,s,i,o){return new Promise((a,l)=>{t(r,am(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>om(u,l,n,o))})}function bh(t="storage"){return{get:async(e,r,n,s)=>dn(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>dn(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>dn(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>dn(e,"HEAD",r,D(D({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>dn(e,"DELETE",r,s,i,n,t)}}const lm=bh("storage"),{get:Gn,post:Ze,put:wa,head:um,remove:wl}=lm,$e=bh("vectors");var tn=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=em(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=D(D({},this.headers),{},{[t]:e}),this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Li(r))return{data:null,error:r};throw r}}},cm=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Li(e))return{data:null,error:e};throw e}}};let Th;Th=Symbol.toStringTag;var dm=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Th]="BlobDownloadBuilder",this.promise=null}asStream(){return new cm(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Li(e))return{data:null,error:e};throw e}}};const hm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var fm=class extends tn{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=D(D({},Vu),n);let a=D(D({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=D(D({},a),n.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),m=await(t=="PUT"?wa:Ze)(s.fetch,`${s.url}/object/${c}`,i,D({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:m.Id,fullPath:m.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),s.handleOperation(async()=>{let l;const u=D({upsert:Vu.upsert},n),c=D(D({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await wa(s.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=D({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Ze(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ii("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Ze(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Ze(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await Ze(n.fetch,`${n.url}/object/sign/${s}`,D({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await Ze(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>D(D({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(t),a=()=>Gn(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new dm(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>ya(await Gn(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await um(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Li(n)&&n instanceof xh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await wl(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=D(D(D({},hm),e),{},{prefix:t||""});return await Ze(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=D({},t);return await Ze(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const pm="2.96.0",ns={"X-Client-Info":`storage-js/${pm}`};var gm=class extends tn{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=D(D({},ns),e);super(i,o,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Gn(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Gn(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Ze(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await wa(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Ze(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await wl(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},mm=class extends tn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=D(D({},ns),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ze(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Gn(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await wl(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!rm(t))throw new Ii("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Zg({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},vm=class extends tn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=D(D({},ns),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await $e.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await $e.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},ym=class extends tn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=D(D({},ns),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},wm=class extends tn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=D(D({},ns),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await $e.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},_m=class extends wm{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new km(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},km=class extends vm{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,D(D({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,D(D({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Sm(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Sm=class extends ym{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,D(D({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,D(D({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,D(D({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,D(D({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,D(D({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Em=class extends gm{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new fm(this.url,this.headers,t,this.fetch)}get vectors(){return new _m(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mm(this.url+"/iceberg",this.headers,this.fetch)}};const Ch="2.96.0",Sr=30*1e3,_a=3,go=_a*Sr,xm="http://localhost:9999",bm="supabase.auth.token",Tm={"X-Client-Info":`gotrue-js/${Ch}`},ka="X-Supabase-Api-Version",Oh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Om=10*60*1e3;class Jn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Rm extends Jn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jm(t){return L(t)&&t.name==="AuthApiError"}class Xt extends Jn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class St extends Jn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ie extends St{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mo(t){return L(t)&&t.name==="AuthSessionMissingError"}class mr extends St{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cs extends St{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Os extends St{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pm(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hu extends St{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nm extends St{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Sa extends St{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function vo(t){return L(t)&&t.name==="AuthRetryableFetchError"}class qu extends St{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ea extends St{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ku=` 	
\r=`.split(""),Am=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ku.length;e+=1)t[Ku[e].charCodeAt(0)]=-2;for(let e=0;e<fi.length;e+=1)t[fi[e].charCodeAt(0)]=e;return t})();function Gu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(fi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(fi[n]),e.queuedBits-=6}}function Rh(t,e,r){const n=Am[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ju(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{$m(o,n,r)};for(let o=0;o<t.length;o+=1)Rh(t.charCodeAt(o),s,i);return e.join("")}function Im(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Lm(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Im(n,e)}}function $m(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Wr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Rh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Dm(t){const e=[];return Lm(t,r=>e.push(r)),new Uint8Array(e)}function rr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Gu(s,r,n)),Gu(null,r,n),e.join("")}function Um(t){return Math.round(Date.now()/1e3)+t}function Mm(){return Symbol("auth-callback")}const ve=()=>typeof window<"u"&&typeof document<"u",qt={tested:!1,writable:!1},jh=()=>{if(!ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qt.tested)return qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qt.tested=!0,qt.writable=!0}catch{qt.tested=!0,qt.writable=!1}return qt.writable};function zm(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ph=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Bm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Er=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Kt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},me=async(t,e)=>{await t.removeItem(e)};class $i{constructor(){this.promise=new $i.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$i.promiseConstructor=Promise;function Rs(t){const e=t.split(".");if(e.length!==3)throw new Ea("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Cm.test(e[n]))throw new Ea("JWT not in base64url format");return{header:JSON.parse(Ju(e[0])),payload:JSON.parse(Ju(e[1])),signature:Wr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Fm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Wm(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Vm(t){return("0"+t.toString(16)).substr(-2)}function Hm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Vm).join("")}async function qm(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Km(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await qm(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vr(t,e,r=!1){const n=Hm();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Er(t,`${e}-code-verifier`,s);const i=await Km(n);return[i,n===i?"plain":"s256"]}const Gm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jm(t){const e=t.headers.get(ka);if(!e||!e.match(Gm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Qm(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ym(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yr(t){if(!Xm.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zm(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Qu(t){return JSON.parse(JSON.stringify(t))}const Qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ev=[502,503,504];async function Yu(t){var e;if(!Bm(t))throw new Sa(Qt(t),0);if(ev.includes(t.status))throw new Sa(Qt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Xt(Qt(i),i)}let n;const s=Jm(t);if(s&&s.getTime()>=Oh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qu(Qt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ie}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qu(Qt(r),t.status,r.weak_password.reasons);throw new Rm(Qt(r),t.status||500,n)}const tv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ka]||(i[ka]=Oh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rv(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function rv(t,e,r,n,s,i){const o=tv(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Sa(Qt(l),0)}if(a.ok||await Yu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Yu(l)}}function Ye(t){var e;let r=null;iv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Um(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Xu(t){const e=Ye(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nv(t){return{data:t,error:null}}function sv(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Ai(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Zu(t){return t}function iv(t){return t.access_token&&t.refresh_token&&t.expires_in}const wo=["global","local","others"];class ov{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ph(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=wo[0]){if(wo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wo.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ai(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zu});if(c.error)throw c.error;const m=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){yr(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){yr(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){yr(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){yr(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(e){yr(e.userId),yr(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zu});if(c.error)throw c.error;const m=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(L(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}}function ec(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const wr={debug:!!(globalThis&&jh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tc extends Nh{}async function av(t,e,r){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;e>0&&setTimeout(()=>{n.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tc(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new tc(`Acquiring an exclusive Navigator LockManager lock "${t}" timed out waiting ${e}ms`):s}}function lv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ah(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function uv(t){return parseInt(t,16)}function cv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function dv(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:m,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=Ah(t.address),v=c?`${c}://${n}`:n,y=t.statement?`${t.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${h}

${y}`;let g=`URI: ${m}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let d=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);d+=`
- ${p}`}g+=d}return`${S}
${g}`}class le extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class pi extends le{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function hv({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Ih(o)){if(i.rp.id!==o)return new le({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function fv({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Ih(n)){if(r.rpId!==n)return new le({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class pv{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const gv=new pv;function mv(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Ai(t,["challenge","user","excludeCredentials"]),i=Wr(e).buffer,o=Object.assign(Object.assign({},r),{id:Wr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Wr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function vv(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ai(t,["challenge","allowCredentials"]),s=Wr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Wr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function yv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:rr(new Uint8Array(t.response.attestationObject)),clientDataJSON:rr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:rr(new Uint8Array(s.authenticatorData)),clientDataJSON:rr(new Uint8Array(s.clientDataJSON)),signature:rr(new Uint8Array(s.signature)),userHandle:s.userHandle?rr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ih(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function rc(){var t,e;return!!(ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _v(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pi("Browser returned unexpected credential type",e)}:{data:null,error:new pi("Empty credential response",e)}}catch(e){return{data:null,error:hv({error:e,options:t})}}}async function kv(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pi("Browser returned unexpected credential type",e)}:{data:null,error:new pi("Empty credential response",e)}}catch(e){return{data:null,error:fv({error:e,options:t})}}}const Sv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ev={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=gi(a,o):n[i]=gi(o)}else n[i]=o}return n}function xv(t,e){return gi(Sv,t,e||{})}function bv(t,e){return gi(Ev,t,e||{})}class Tv{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const u=s??gv.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const m=n;if(m)c.name=`${c.id}:${m}`;else{const h=(await this.client.getUser()).data.user,v=((o=h==null?void 0:h.user_metadata)===null||o===void 0?void 0:o.name)||(h==null?void 0:h.email)||(h==null?void 0:h.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=xv(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:m,error:f}=await _v({publicKey:c,signal:u});return m?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:f}}case"request":{const c=bv(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:m,error:f}=await kv(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return m?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:f}}}}catch(a){return L(a)?{data:null,error:a}:{data:null,error:new Xt("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Jn("rpId is required for WebAuthn authentication")};try{if(!rc())return{data:null,error:new Xt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Xt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Jn("rpId is required for WebAuthn registration")};try{if(!rc())return{data:null,error:new Xt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var m;return(m=c.data)===null||m===void 0?void 0:m.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Xt("Unexpected error in register",o)}}}}lv();const Cv={url:xm,storageKey:bm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function nc(t,e,r){return await r()}const _r={};class Qn{get jwks(){var e,r;return(r=(e=_r[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_r[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Cv),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Qn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ve()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ov({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ph(i.fetch),this.lock=i.lock||nc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ve()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=av:this.lock=nc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Tv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:jh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ec(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ec(this.memoryStorage)),ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ch}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ve()&&(r=zm(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ve()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Pm(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?this._returnResult({error:r}):this._returnResult({error:new Xt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ye}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:m,options:f}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await vr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:m,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:v},xform:Ye})}else if("phone"in e){const{phone:c,password:m,options:f}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ye})}else throw new Cs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await me(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xu})}else throw new Cs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new mr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,m,f;let h,v;if("message"in e)h=e.message,v=e.signature;else{const{chain:y,wallet:S,statement:g,options:d}=e;let p;if(ve())if(typeof S=="object")p=S;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")p=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(d!=null&&d.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=S}const w=new URL((r=d==null?void 0:d.url)!==null&&r!==void 0?r:window.location.href),b=await p.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=Ah(b[0]);let j=(n=d==null?void 0:d.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const M=await p.request({method:"eth_chainId"});j=uv(M)}const P={domain:w.host,address:T,statement:g,uri:w.href,version:"1",chainId:j,nonce:(s=d==null?void 0:d.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=d==null?void 0:d.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=d==null?void 0:d.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=d==null?void 0:d.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=d==null?void 0:d.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=d==null?void 0:d.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=dv(P),v=await p.request({method:"personal_sign",params:[cv(h),T]})}try{const{data:y,error:S}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ye});if(S)throw S;if(!y||!y.session||!y.user){const g=new mr;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:S})}catch(y){if(L(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,m,f,h;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:S,wallet:g,statement:d,options:p}=e;let w;if(ve())if(typeof g=="object")w=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))w=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const b=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const T=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),d?{statement:d}:null));let j;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")j=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)j=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...d?["",d,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((m=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||m===void 0)&&m.length?["Resources",...p.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const T=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:S,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:rr(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ye});if(g)throw g;if(!S||!S.session||!S.user){const d=new mr;return this._returnResult({data:{user:null,session:null},error:d})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:g})}catch(S){if(L(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await Kt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Nm;const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ye});if(await me(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new mr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ye}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new mr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await vr(this.storage,this.storageKey));const{error:m}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Cs("You must provide either an email or phone number.")}catch(a){if(await me(this.storage,`${this.storageKey}-code-verifier`),L(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ye});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await vr(this.storage,this.storageKey));const u=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:nv});return!((i=u.data)===null||i===void 0)&&i.url&&ve()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await me(this.storage,`${this.storageKey}-code-verifier`),L(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ie;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(L(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Cs("You must provide either an email or phone number and a type")}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Kt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<go:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Kt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=yo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Zm(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ie}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Rt})})}catch(r){if(L(r))return mo(r)&&(await this._removeSession(),await me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ie;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await vr(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Rt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await me(this.storage,`${this.storageKey}-code-verifier`),L(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ie;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Rs(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ie;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ve())throw new Os("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Os(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Os("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hu("No code detected.");const{data:d,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:d.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Os("No session defined in URL");const c=Math.round(Date.now()/1e3),m=parseInt(a);let f=c+m;l&&(f=parseInt(l));const h=f-c;h*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${m}s`);const v=f-m;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:y,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(L(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Kt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!mo(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(jm(a)&&(a.status===404||a.status===401||a.status===403)||mo(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Mm(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await vr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:m,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ve()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(L(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,m=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ye}),{data:f,error:h}=m;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new mr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(s){if(await me(this.storage,`${this.storageKey}-code-verifier`),L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Wm(async s=>(s>0&&await Fm(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ye})),(s,i)=>{const o=200*Math.pow(2,s);return i&&vo(i)&&Date.now()+o-n<Sr})}catch(n){if(this._debug(r,"error",n),L(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ve()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Kt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Kt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Er(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:yo()}else if(s&&!s.user&&!s.user){const o=await Kt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await me(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,s)):s.user=yo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<go;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${go}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),vo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ie;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $i;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ie;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={data:null,error:i};return vo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await me(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Er(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Qu(s);await Er(this.storage,this.storageKey,i)}else{const s=Qu(r);await Er(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await me(this.storage,this.storageKey),await me(this.storage,this.storageKey+"-code-verifier"),await me(this.storage,this.storageKey+"-user"),this.userStorage&&await me(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sr}ms, refresh threshold is ${_a} ticks`),s<=_a&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Nh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await vr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yv(e.webauthn.credential_response):wv(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:mv(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:vv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:h}=Rs(e);let v=null;h.aal&&(v=h.aal);let y=v;const{data:{user:S},error:g}=await this.getUser(e);if(g)return this._returnResult({data:null,error:g});((n=(r=S==null?void 0:S.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(y="aal2");const p=h.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:p},error:null}}catch(h){if(L(h))return this._returnResult({data:null,error:h});throw h}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Rs(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ie})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ie});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ie});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ie})})}catch(e){if(L(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ie})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Om>s)return n;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});n=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Rs(n);r!=null&&r.allowExpired||Qm(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const c=Ym(s.alg),m=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,m,o,Dm(`${a}.${l}`)))throw new Ea("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}}Qn.nextInstanceID={};const Ov=Qn,Rv="2.96.0";let mn="";typeof Deno<"u"?mn="deno":typeof document<"u"?mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mn="react-native":mn="node";const jv={"X-Client-Info":`supabase-js-${mn}/${Rv}`},Pv={headers:jv},Nv={schema:"public"},Av={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Iv={};function Yn(t){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(t)}function Lv(t,e){if(Yn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $v(t){var e=Lv(t,"string");return Yn(e)=="symbol"?e:e+""}function Dv(t,e,r){return(e=$v(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sc(Object(r),!0).forEach(function(n){Dv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Uv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Mv=()=>Headers,zv=(t,e,r)=>{const n=Uv(r),s=Mv();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,ie(ie({},o),{},{headers:u}))}};function Bv(t){return t.endsWith("/")?t:t+"/"}function Fv(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:m}=e,f={db:ie(ie({},l),s),auth:ie(ie({},u),i),realtime:ie(ie({},c),o),storage:{},global:ie(ie(ie({},m),a),{},{headers:ie(ie({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Wv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Vv=class extends Ov{constructor(t){super(t)}},Hv=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=Wv(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Nv,realtime:Iv,auth:ie(ie({},Av),{},{storageKey:o}),global:Pv},l=Fv(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=zv(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new jg(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Em(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Sg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vv({url:this.authUrl.href,headers:ie(ie({},f),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Kg(this.realtimeUrl.href,ie(ie({},t),{},{params:ie(ie({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qv=(t,e,r)=>new Hv(t,e,r);function Kv(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Kv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gv="https://beovxcpqruwxznrbtmxs.supabase.co",Jv="sb_publishable_gvgN1Uz9BFkM7L_NYIR2qA_NZPfjVVc",ir=qv(Gv,Jv);function Qv({onLogin:t,onSelectUser:e,users:r}){const[n,s]=H.useState(""),[i,o]=H.useState(""),[a,l]=H.useState(!1),[u,c]=H.useState([]);async function m(h){h.preventDefault(),o("");const v=await t(n);if(!v){o("Ongeldige PIN");return}v.length===1?e(v[0]):(c(v),l(!0))}function f(h){e(h)}return a?_.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-b from-emerald-50 to-white",children:[_.jsx("h1",{className:"text-3xl font-bold text-emerald-600 mb-2",children:"Divide/Chores"}),_.jsx("p",{className:"text-gray-600 mb-8",children:"Wie ben je?"}),_.jsx("div",{className:"space-y-3 w-full max-w-xs",children:u.map(h=>_.jsx("button",{onClick:()=>f(h),className:`w-full p-4 rounded-xl text-lg font-medium transition-all active:scale-95 ${h.name==="Bijan"?"bg-bijan text-white":"bg-esther text-white"}`,children:h.name},h.id))})]}):_.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-b from-emerald-50 to-white",children:[_.jsx("div",{className:"text-5xl mb-4",children:""}),_.jsx("h1",{className:"text-3xl font-bold text-emerald-600 mb-8",children:"Divide/Chores"}),_.jsxs("form",{onSubmit:m,className:"w-full max-w-xs",children:[_.jsx("input",{type:"password",value:n,onChange:h=>s(h.target.value),placeholder:"PIN Code",className:"input-field text-center text-2xl tracking-widest mb-4",maxLength:6,inputMode:"numeric",pattern:"[0-9]*",autoFocus:!0}),i&&_.jsx("p",{className:"text-red-500 text-center mb-4",children:i}),_.jsx("button",{type:"submit",className:"btn-primary w-full py-4 text-lg",children:"Inloggen"})]}),_.jsx("p",{className:"mt-8 text-gray-400 text-sm text-center",children:"Voer je PIN in om te beginnen"})]})}function ic({task:t,isCompleted:e,onComplete:r,users:n,isToday:s,presentationMode:i}){var l;const o=t.is_both?"Samen":((l=n.find(u=>u.id===t.assigned_to))==null?void 0:l.name)||"Niemand",a=t.is_both?"bg-purple-100 border-purple-400":o==="Bijan"?"bg-blue-100 border-bijan":o==="Esther"?"bg-pink-100 border-esther":"bg-gray-100 border-gray-400";return _.jsx("div",{className:`task-card ${e?"opacity-50":""} ${i?"p-4 mb-3":"p-2 mb-1"}`,style:{borderLeftColor:o==="Bijan"?"#3b82f6":o==="Esther"?"#f472b6":t.is_both?"#9333ea":"#9ca3af"},children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("button",{onClick:u=>{u.stopPropagation(),e||r()},disabled:e,className:`mt-1 w-5 h-5 rounded-full border-2 flex-shrink-0 transition-all ${e?"bg-emerald-500 border-emerald-500":"border-gray-300 hover:border-emerald-400"}`,children:e&&_.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("p",{className:`font-medium truncate ${e?"line-through text-gray-400":""} ${i?"text-base":"text-xs"}`,children:t.title}),t.description&&_.jsx("p",{className:`text-gray-500 truncate ${i?"text-sm":"text-xs"}`,children:t.description}),i&&_.jsx("span",{className:`inline-block mt-1 text-xs px-2 py-0.5 rounded ${a}`,children:o})]})]})})}const Yv=["Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"];function Xv({dayIndex:t,dayName:e,onClose:r,users:n,currentUser:s,onTaskCreated:i}){const[o,a]=H.useState(""),[l,u]=H.useState(""),[c,m]=H.useState(t),[f,h]=H.useState("both"),[v,y]=H.useState(!0),[S,g]=H.useState(!1);async function d(p){if(p.preventDefault(),!o.trim())return;g(!0);const w=n.find(M=>M.name==="Bijan"),b=n.find(M=>M.name==="Esther");let T=null,j=!1;f==="both"?j=!0:f==="bijan"&&w?T=w.id:f==="esther"&&b&&(T=b.id);const{error:P}=await ir.from("tasks").insert({title:o.trim(),description:l.trim()||null,day_of_week:c,assigned_to:T,is_both:j,is_recurring:v,created_by:s.id});g(!1),P||(i(),r())}return _.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end z-50",onClick:r,children:_.jsxs("div",{className:"bg-white rounded-t-2xl w-full max-h-[90vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:[_.jsx("div",{className:"p-4 border-b",children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h2",{className:"text-xl font-bold",children:"Taak toevoegen"}),_.jsx("button",{onClick:r,className:"p-2 text-gray-400",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),_.jsxs("form",{onSubmit:d,className:"p-4 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taak *"}),_.jsx("input",{type:"text",value:o,onChange:p=>a(p.target.value),placeholder:"Bijv. Stofzuigen",className:"input-field",autoFocus:!0,required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opmerking"}),_.jsx("textarea",{value:l,onChange:p=>u(p.target.value),placeholder:"Extra informatie...",className:"input-field resize-none",rows:2})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dag"}),_.jsx("select",{value:c,onChange:p=>m(parseInt(p.target.value)),className:"input-field",children:Yv.map((p,w)=>_.jsx("option",{value:w,children:p},w))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Toewijzen aan"}),_.jsx("div",{className:"flex gap-2",children:["both","bijan","esther"].map(p=>_.jsx("button",{type:"button",onClick:()=>h(p),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${f===p?p==="both"?"bg-purple-500 text-white":p==="bijan"?"bg-bijan text-white":"bg-esther text-white":"bg-gray-100 text-gray-600"}`,children:p==="both"?"Samen":p==="bijan"?" Bijan":" Esther"},p))})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{type:"button",onClick:()=>y(!v),className:`w-12 h-6 rounded-full transition-all ${v?"bg-emerald-500":"bg-gray-300"}`,children:_.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform ${v?"translate-x-6":"translate-x-0.5"}`})}),_.jsx("span",{className:"text-sm text-gray-600",children:"Elke week herhalen"})]}),_.jsx("button",{type:"submit",disabled:S||!o.trim(),className:"btn-primary w-full py-4 text-lg disabled:opacity-50",children:S?"Bezig...":"Taak toevoegen"})]})]})})}const js=["Ma","Di","Wo","Do","Vr","Za","Zo"],oc=["Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"];function Zv({currentUser:t,users:e,onComplete:r,presentationMode:n,onTogglePresentation:s,onOpenMenu:i}){const[o,a]=H.useState([]),[l,u]=H.useState([]),[c,m]=H.useState(null),[f,h]=H.useState(!1),[v,y]=H.useState("all"),[S,g]=H.useState(0),d=H.useRef(null),p=new Date,w=p.getDay()===0?6:p.getDay()-1,[b,T]=H.useState(w);function j(x=0){const R=new Date(p);return R.setDate(p.getDate()-w+x*7),js.map((F,$)=>{const J=new Date(R);return J.setDate(R.getDate()+$),J})}const P=j(S);H.useEffect(()=>{M(),z()},[S]);async function M(){const{data:x}=await ir.from("tasks").select("*").order("created_at",{ascending:!1});x&&a(x)}async function z(){const x=j(S),R=x[0].toISOString().split("T")[0],F=x[6].toISOString().split("T")[0],{data:$}=await ir.from("completed_tasks").select("*").gte("completed_at",R).lte("completed_at",F+"T23:59:59");$&&u($)}function ce(x){return o.filter(R=>{var $,J;return R.day_of_week!==x?!1:v==="bijan"?R.assigned_to===(($=e.find(ee=>ee.name==="Bijan"))==null?void 0:$.id)||R.is_both:v==="esther"?R.assigned_to===((J=e.find(ee=>ee.name==="Esther"))==null?void 0:J.id)||R.is_both:!0})}function Fe(x){return l.some(R=>R.task_id===x&&R.user_id===(t==null?void 0:t.id))}async function Je(x){if(!t)return;const R=E(P[0]),F=P[0].getFullYear(),{error:$}=await ir.from("completed_tasks").insert({task_id:x.id,user_id:t.id,week_number:R,year:F});$||(z(),r())}function E(x){const R=new Date(x);R.setHours(0,0,0,0),R.setDate(R.getDate()+4-(R.getDay()||7));const F=new Date(R.getFullYear(),0,1);return Math.ceil(((R-F)/864e5+1)/7)}function k(x){d.current=x.touches[0].clientX}function V(x){if(!d.current)return;const R=x.changedTouches[0].clientX-d.current;Math.abs(R)>50&&(R>0?T(F=>F>0?F-1:6):T(F=>F<6?F+1:0)),d.current=null}function B(x){return x.getDate()}function O(){const x=P[0],R=P[6],F=`${x.getDate()}/${x.getMonth()+1}`,$=`${R.getDate()}/${R.getMonth()+1}`;return`${F} - ${$}`}function N(){return js.map((x,R)=>o.filter($=>$.day_of_week===R).length>0&&R!==w)}const A=N();return n?_.jsxs("div",{className:"min-h-screen p-8",children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsx("button",{onClick:i,className:"p-2",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Divide/Chores"}),_.jsx("p",{className:"text-gray-500 text-sm",children:O()})]}),_.jsx("button",{onClick:s,className:"p-2",title:"Presentatie modus",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),_.jsx("div",{className:"flex gap-1",children:js.map((x,R)=>{const F=ce(R),$=R===w&&S===0;return _.jsxs("div",{className:"flex-1 p-4",children:[_.jsxs("div",{className:`text-center mb-2 ${$?"bg-emerald-500 text-white rounded-lg py-1":""}`,children:[_.jsx("p",{className:"text-lg font-medium",children:x}),_.jsx("p",{className:"text-2xl",children:B(P[R])})]}),_.jsxs("div",{className:"space-y-3",children:[F.slice(0,10).map(J=>_.jsx(ic,{task:J,isCompleted:Fe(J.id),onComplete:()=>Je(J),users:e,isToday:$,presentationMode:!0},J.id)),F.length>10&&_.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["+",F.length-10," meer"]})]})]},R)})})]}):_.jsxs("div",{className:"min-h-screen",onTouchStart:k,onTouchEnd:V,children:[_.jsxs("div",{className:"flex items-center justify-between p-4",children:[_.jsx("button",{onClick:i,className:"p-2",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-xl font-bold",children:"Divide/Chores"}),_.jsx("p",{className:"text-gray-500 text-sm",children:O()})]}),_.jsx("button",{onClick:s,className:"p-2",title:"Presentatie modus",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),_.jsx("div",{className:"px-4 mb-4",children:_.jsx("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-lg",children:["all","bijan","esther"].map(x=>_.jsx("button",{onClick:()=>y(x),className:`flex-1 py-2 rounded-md text-sm font-medium transition-all ${v===x?"bg-white shadow text-emerald-600":"text-gray-500"}`,children:x==="all"?"Alle":x==="bijan"?" Bijan":" Esther"},x))})}),_.jsxs("div",{className:"flex items-center justify-between px-2 mb-4",children:[_.jsx("button",{onClick:()=>{T(x=>x>0?x-1:6)},className:"p-2 text-gray-500",children:""}),_.jsx("span",{className:"text-sm text-gray-400",children:S===0?"Deze week":S>0?"Volgende weken":"Vorige weken"}),_.jsx("button",{onClick:()=>{T(x=>x<6?x+1:0)},className:"p-2 text-gray-500",children:""})]}),_.jsx("div",{className:"flex gap-1 px-2 overflow-x-auto mb-4",children:js.map((x,R)=>{ce(R);const F=R===b,$=R===w&&S===0;return _.jsxs("button",{onClick:()=>T(R),className:`flex-1 min-w-[50px] py-2 rounded-lg text-center ${F?"bg-emerald-500 text-white":"bg-gray-100"}`,children:[_.jsx("p",{className:"text-xs font-medium",children:x}),_.jsx("p",{className:"text-lg",children:B(P[R])}),A[R]&&!$&&_.jsx("span",{className:"text-orange-400 text-xs",children:""})]},R)})}),_.jsxs("div",{className:"px-2",children:[_.jsxs("h2",{className:"text-lg font-semibold mb-3",children:[oc[b],b===w&&S===0&&_.jsx("span",{className:"ml-2 text-emerald-500 text-sm",children:"(vandaag)"})]}),_.jsxs("div",{className:"space-y-2",children:[ce(b).map(x=>_.jsx(ic,{task:x,isCompleted:Fe(x.id),onComplete:()=>Je(x),users:e,isToday:b===w&&S===0,presentationMode:!1},x.id)),ce(b).length===0&&_.jsx("p",{className:"text-gray-400 text-center py-8",children:"Geen taken voor deze dag"})]})]}),_.jsx("button",{onClick:()=>{m(b),h(!0)},className:"fixed bottom-6 right-6 w-14 h-14 bg-emerald-500 text-white rounded-full shadow-lg flex items-center justify-center text-2xl active:scale-95 transition-all",children:"+"}),f&&_.jsx(Xv,{dayIndex:c!==null?c:b,dayName:oc[c!==null?c:b],onClose:()=>{h(!1),m(null)},users:e,currentUser:t,onTaskCreated:M})]})}function ey({onClose:t,onLogout:e,currentUser:r,presentationMode:n,onTogglePresentation:s}){const[i,o]=H.useState(!1),[a,l]=H.useState([]),[u,c]=H.useState(!1);async function m(){c(!0);const{data:h}=await ir.from("completed_tasks").select("*, tasks(title, day_of_week), users(name)").order("completed_at",{ascending:!1}).limit(50);h&&l(h),c(!1)}function f(){o(!0),m()}return _.jsxs("div",{className:"fixed inset-0 bg-black/50 z-50 flex",onClick:t,children:[_.jsxs("div",{className:"bg-white w-full max-w-sm ml-auto h-full",onClick:h=>h.stopPropagation(),children:[_.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[_.jsx("h2",{className:"text-xl font-bold",children:"Menu"}),_.jsx("button",{onClick:t,className:"p-2",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Ingelogd als"}),_.jsx("p",{className:"text-lg font-medium",children:r.name})]}),_.jsxs("button",{onClick:f,className:"w-full p-4 bg-gray-50 rounded-xl text-left flex items-center gap-3",children:[_.jsx("span",{className:"text-xl",children:""}),_.jsx("span",{children:"Voltooide taken"})]}),_.jsxs("button",{onClick:s,className:"w-full p-4 bg-gray-50 rounded-xl text-left flex items-center gap-3",children:[_.jsx("span",{className:"text-xl",children:""}),_.jsx("span",{children:n?"Presentatie uit":"Presentatie aan"})]}),_.jsxs("button",{onClick:e,className:"w-full p-4 bg-red-50 text-red-600 rounded-xl text-left flex items-center gap-3",children:[_.jsx("span",{className:"text-xl",children:""}),_.jsx("span",{children:"Uitloggen"})]})]})]}),i&&_.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60]",onClick:()=>o(!1),children:_.jsxs("div",{className:"bg-white rounded-t-2xl w-full max-h-[80vh] overflow-y-auto",onClick:h=>h.stopPropagation(),children:[_.jsxs("div",{className:"p-4 border-b flex justify-between items-center sticky top-0 bg-white",children:[_.jsx("h2",{className:"text-xl font-bold",children:"Voltooide taken"}),_.jsx("button",{onClick:()=>o(!1),className:"p-2",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsx("div",{className:"p-4",children:u?_.jsx("p",{className:"text-center text-gray-500",children:"Laden..."}):a.length===0?_.jsx("p",{className:"text-center text-gray-500",children:"Nog geen voltooide taken"}):_.jsx("div",{className:"space-y-2",children:a.map(h=>{var v,y;return _.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[_.jsx("p",{className:"font-medium",children:(v=h.tasks)==null?void 0:v.title}),_.jsxs("p",{className:"text-sm text-gray-500",children:[(y=h.users)==null?void 0:y.name,"  ",new Date(h.completed_at).toLocaleDateString("nl-NL",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})]})]},h.id)})})})]})})]})}var mi={},_l={};(function t(e,r,n,s){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);function o(){}function a(E){var k=r.exports.Promise,V=k!==void 0?k:e.Promise;return typeof V=="function"?new V(E):(E(o,o),null)}var l=function(){var E=Math.floor(16.666666666666668),k,V,B={},O=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(k=function(N){var A=Math.random();return B[A]=requestAnimationFrame(function x(R){O===R||O+E-1<R?(O=R,delete B[A],N()):B[A]=requestAnimationFrame(x)}),A},V=function(N){B[N]&&cancelAnimationFrame(B[N])}):(k=function(N){return setTimeout(N,E)},V=function(N){return clearTimeout(N)}),{frame:k,cancel:V}}(),u=function(){var E,k,V={};function B(O){function N(A,x){O.postMessage({options:A||{},callback:x})}O.init=function(x){var R=x.transferControlToOffscreen();O.postMessage({canvas:R},[R])},O.fire=function(x,R,F){if(k)return N(x,null),k;var $=Math.random().toString(36).slice(2);return k=a(function(J){function ee(K){K.data.callback===$&&(delete V[$],O.removeEventListener("message",ee),k=null,F(),J())}O.addEventListener("message",ee),N(x,$),V[$]=ee.bind(null,{data:{callback:$}})}),k},O.reset=function(){O.postMessage({reset:!0});for(var x in V)V[x](),delete V[x]}}return function(){if(E)return E;if(!n&&i){var O=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{E=new Worker(URL.createObjectURL(new Blob([O])))}catch(N){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",N),null}B(E)}return E}}(),c={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(E,k){return k?k(E):E}function f(E){return E!=null}function h(E,k,V){return m(E&&f(E[k])?E[k]:c[k],V)}function v(E){return E<0?0:Math.floor(E)}function y(E,k){return Math.floor(Math.random()*(k-E))+E}function S(E){return parseInt(E,16)}function g(E){return E.map(d)}function d(E){var k=String(E).replace(/[^0-9a-f]/gi,"");return k.length<6&&(k=k[0]+k[0]+k[1]+k[1]+k[2]+k[2]),{r:S(k.substring(0,2)),g:S(k.substring(2,4)),b:S(k.substring(4,6))}}function p(E){var k=h(E,"origin",Object);return k.x=h(k,"x",Number),k.y=h(k,"y",Number),k}function w(E){E.width=document.documentElement.clientWidth,E.height=document.documentElement.clientHeight}function b(E){var k=E.getBoundingClientRect();E.width=k.width,E.height=k.height}function T(E){var k=document.createElement("canvas");return k.style.position="fixed",k.style.top="0px",k.style.left="0px",k.style.pointerEvents="none",k.style.zIndex=E,k}function j(E,k,V,B,O,N,A,x,R){E.save(),E.translate(k,V),E.rotate(N),E.scale(B,O),E.arc(0,0,1,A,x,R),E.restore()}function P(E){var k=E.angle*(Math.PI/180),V=E.spread*(Math.PI/180);return{x:E.x,y:E.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:E.startVelocity*.5+Math.random()*E.startVelocity,angle2D:-k+(.5*V-Math.random()*V),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:E.color,shape:E.shape,tick:0,totalTicks:E.ticks,decay:E.decay,drift:E.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:E.gravity*3,ovalScalar:.6,scalar:E.scalar}}function M(E,k){k.x+=Math.cos(k.angle2D)*k.velocity+k.drift,k.y+=Math.sin(k.angle2D)*k.velocity+k.gravity,k.wobble+=k.wobbleSpeed,k.velocity*=k.decay,k.tiltAngle+=.1,k.tiltSin=Math.sin(k.tiltAngle),k.tiltCos=Math.cos(k.tiltAngle),k.random=Math.random()+2,k.wobbleX=k.x+10*k.scalar*Math.cos(k.wobble),k.wobbleY=k.y+10*k.scalar*Math.sin(k.wobble);var V=k.tick++/k.totalTicks,B=k.x+k.random*k.tiltCos,O=k.y+k.random*k.tiltSin,N=k.wobbleX+k.random*k.tiltCos,A=k.wobbleY+k.random*k.tiltSin;if(E.fillStyle="rgba("+k.color.r+", "+k.color.g+", "+k.color.b+", "+(1-V)+")",E.beginPath(),k.shape==="circle")E.ellipse?E.ellipse(k.x,k.y,Math.abs(N-B)*k.ovalScalar,Math.abs(A-O)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI):j(E,k.x,k.y,Math.abs(N-B)*k.ovalScalar,Math.abs(A-O)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI);else if(k.shape==="star")for(var x=Math.PI/2*3,R=4*k.scalar,F=8*k.scalar,$=k.x,J=k.y,ee=5,K=Math.PI/ee;ee--;)$=k.x+Math.cos(x)*F,J=k.y+Math.sin(x)*F,E.lineTo($,J),x+=K,$=k.x+Math.cos(x)*R,J=k.y+Math.sin(x)*R,E.lineTo($,J),x+=K;else E.moveTo(Math.floor(k.x),Math.floor(k.y)),E.lineTo(Math.floor(k.wobbleX),Math.floor(O)),E.lineTo(Math.floor(N),Math.floor(A)),E.lineTo(Math.floor(B),Math.floor(k.wobbleY));return E.closePath(),E.fill(),k.tick<k.totalTicks}function z(E,k,V,B,O){var N=k.slice(),A=E.getContext("2d"),x,R,F=a(function($){function J(){x=R=null,A.clearRect(0,0,B.width,B.height),O(),$()}function ee(){n&&!(B.width===s.width&&B.height===s.height)&&(B.width=E.width=s.width,B.height=E.height=s.height),!B.width&&!B.height&&(V(E),B.width=E.width,B.height=E.height),A.clearRect(0,0,B.width,B.height),N=N.filter(function(K){return M(A,K)}),N.length?x=l.frame(ee):J()}x=l.frame(ee),R=J});return{addFettis:function($){return N=N.concat($),F},canvas:E,promise:F,reset:function(){x&&l.cancel(x),R&&R()}}}function ce(E,k){var V=!E,B=!!h(k||{},"resize"),O=h(k,"disableForReducedMotion",Boolean),N=i&&!!h(k||{},"useWorker"),A=N?u():null,x=V?w:b,R=E&&A?!!E.__confetti_initialized:!1,F=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$;function J(K,Di,Ui){for(var fr=h(K,"particleCount",v),ss=h(K,"angle",Number),is=h(K,"spread",Number),Ht=h(K,"startVelocity",Number),$h=h(K,"decay",Number),Dh=h(K,"gravity",Number),Uh=h(K,"drift",Number),kl=h(K,"colors",g),Mh=h(K,"ticks",Number),Sl=h(K,"shapes"),zh=h(K,"scalar"),El=p(K),xl=fr,Mi=[],Bh=E.width*El.x,Fh=E.height*El.y;xl--;)Mi.push(P({x:Bh,y:Fh,angle:ss,spread:is,startVelocity:Ht,color:kl[xl%kl.length],shape:Sl[y(0,Sl.length)],ticks:Mh,decay:$h,gravity:Dh,drift:Uh,scalar:zh}));return $?$.addFettis(Mi):($=z(E,Mi,x,Di,Ui),$.promise)}function ee(K){var Di=O||h(K,"disableForReducedMotion",Boolean),Ui=h(K,"zIndex",Number);if(Di&&F)return a(function(Ht){Ht()});V&&$?E=$.canvas:V&&!E&&(E=T(Ui),document.body.appendChild(E)),B&&!R&&x(E);var fr={width:E.width,height:E.height};A&&!R&&A.init(E),R=!0,A&&(E.__confetti_initialized=!0);function ss(){if(A){var Ht={getBoundingClientRect:function(){if(!V)return E.getBoundingClientRect()}};x(Ht),A.postMessage({resize:{width:Ht.width,height:Ht.height}});return}fr.width=fr.height=null}function is(){$=null,B&&e.removeEventListener("resize",ss),V&&E&&(document.body.removeChild(E),E=null,R=!1)}return B&&e.addEventListener("resize",ss,!1),A?A.fire(K,fr,is):J(K,fr,is)}return ee.reset=function(){A&&A.reset(),$&&$.reset()},ee}var Fe;function Je(){return Fe||(Fe=ce(null,{useWorker:!0,resize:!0})),Fe}r.exports=function(){return Je().apply(this,arguments)},r.exports.reset=function(){Je().reset()},r.exports.create=ce})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),_l,!1);const ty=_l.exports;var ry=_l.exports.create;const ny=Object.freeze(Object.defineProperty({__proto__:null,create:ry,default:ty},Symbol.toStringTag,{value:"Module"})),sy=Vh(ny);var iy=Vr&&Vr.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oy=Vr&&Vr.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r},Lh=Vr&&Vr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mi,"__esModule",{value:!0});var ay=Lh(sy),_o=Lh(H),ly=function(t){iy(e,t);function e(r){var n=t.call(this,r)||this;return n.refCanvas=_o.default.createRef(),n.confetti=null,n}return e.prototype.componentDidMount=function(){if(this.refCanvas.current){var r=this.props,n=r.resize,s=r.useWorker,i={resize:typeof n>"u"?!0:n,useWorker:typeof s>"u"?!0:s};this.confetti=ay.default.create(this.refCanvas.current,i),this.setRefConfetti()}},e.prototype.componentDidUpdate=function(r){var n=this.props,s=n.fire,i=n.reset,o=!!s,a=s!==r.fire;o&&a&&this.fireConfetti();var l=!!i,u=i!==r.reset;l&&u&&this.resetConfetti()},e.prototype.componentWillUnmount=function(){this.unsetRefConfetti()},e.prototype.setRefConfetti=function(){var r=this.props.refConfetti;r&&r(this.confetti)},e.prototype.unsetRefConfetti=function(){var r=this.props.refConfetti;r&&r(null)},e.prototype.fireConfetti=function(){if(this.confetti){var r=this.props,n=r.onFire,s=r.onDecay;r.onReset,r.className,r.style,r.width,r.height,r.refConfetti,r.fire,r.reset;var i=oy(r,["onFire","onDecay","onReset","className","style","width","height","refConfetti","fire","reset"]);n&&n();var o=this.confetti(i);o&&o.then(function(){s&&s()})}},e.prototype.resetConfetti=function(){if(this.confetti){this.confetti.reset();var r=this.props.onReset;r&&r()}},e.prototype.render=function(){var r=this.props,n=r.style,s=r.className,i=r.width,o=r.height;return _o.default.createElement("canvas",{ref:this.refCanvas,style:n,className:s,width:i,height:o})},e}(_o.default.Component),uy=mi.default=ly;function cy(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=(n,s,i)=>{const o=t.createOscillator(),a=t.createGain();o.connect(a),a.connect(t.destination),o.frequency.value=n,o.type="sine",a.gain.setValueAtTime(.3,s),a.gain.exponentialRampToValueAtTime(.01,s+i),o.start(s),o.stop(s+i)},r=t.currentTime;e(523.25,r,.1),e(659.25,r+.1,.1),e(783.99,r+.2,.2)}catch{console.log("Sound not available")}}function dy(){const t=H.useCallback(()=>{mi.fire({particleCount:100,spread:70,origin:{y:.6},colors:["#10b981","#3b82f6","#f472b6","#fbbf24","#a855f7"]}),setTimeout(()=>{mi.fire({particleCount:50,spread:70,origin:{y:.6},colors:["#10b981","#3b82f6","#f472b6","#fbbf24","#a855f7"]})},300)},[]);return H.useEffect(()=>{cy()},[]),_.jsx(uy,{onInit:t})}function hy(){const[t,e]=H.useState(null),[r,n]=H.useState(null),[s,i]=H.useState([]),[o,a]=H.useState(!1),[l,u]=H.useState(!1),[c,m]=H.useState(!1);H.useEffect(()=>{f()},[]);async function f(){const{data:g}=await ir.from("users").select("*").order("name");g&&i(g)}async function h(g){const{data:d}=await ir.from("users").select("*").eq("pin",g).limit(2);return d&&d.length>0?(d.length===1&&n(d[0]),d):null}function v(g){n(g)}function y(){n(null),e(null)}function S(){u(!0),setTimeout(()=>u(!1),2e3)}return r?_.jsxs("div",{className:`min-h-screen ${c?"fixed inset-0 z-50 bg-white":""}`,children:[l&&_.jsx(dy,{}),_.jsx(Zv,{currentUser:r,users:s,onComplete:S,presentationMode:c,onTogglePresentation:()=>m(!c),onOpenMenu:()=>a(!0)}),o&&_.jsx(ey,{onClose:()=>a(!1),onLogout:y,currentUser:r,presentationMode:c,onTogglePresentation:()=>m(!c)})]}):_.jsx(Qv,{onLogin:h,onSelectUser:v,users:s})}ko.createRoot(document.getElementById("root")).render(_.jsx(af.StrictMode,{children:_.jsx(hy,{})}));
